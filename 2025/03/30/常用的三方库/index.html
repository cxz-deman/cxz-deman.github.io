<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="CXZ">





<title>常用的三方库 | CXZ_note</title>



    <link rel="icon" href="/head.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 7.3.0"></head>

<body>
    <script>
        // this function is used to check current theme before page loaded.
        (() => {
            const currentTheme = window.localStorage && window.localStorage.getItem('theme') || '';
            const isDark = currentTheme === 'dark';
            const pagebody = document.getElementsByTagName('body')[0]
            if (isDark) {
                pagebody.classList.add('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "· Dark"
            } else {
                pagebody.classList.remove('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "· Light"
            }
        })();
    </script>

    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">CXZ&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">CXZ&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
            <div class="main">
                <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    var tocbot_timer;
    var DEPTH_MAX = 6; // 为 6 时展开所有
    var tocbot_default_config = {
        tocSelector: '.tocbot-list',
        contentSelector: '.post-content',
        headingSelector: 'h1, h2, h3, h4, h5',
        orderedList: false,
        scrollSmooth: true,
        onClick: extend_click,
    };

    function extend_click() {
        clearTimeout(tocbot_timer);
        tocbot_timer = setTimeout(function() {
            tocbot.refresh(obj_merge(tocbot_default_config, {
                hasInnerContainers: true
            }));
        }, 420); // 这个值是由 tocbot 源码里定义的 scrollSmoothDuration 得来的
    }

    document.ready(function() {
        tocbot.init(obj_merge(tocbot_default_config, {
            collapseDepth: 1
        }));
    });

    function expand_toc() {
        var b = document.querySelector('.tocbot-toc-expand');
        var expanded = b.getAttribute('data-expanded');
        expanded ? b.removeAttribute('data-expanded') : b.setAttribute('data-expanded', true);
        tocbot.refresh(obj_merge(tocbot_default_config, {
            collapseDepth: expanded ? 1 : DEPTH_MAX
        }));
        b.innerText = expanded ? 'Expand all' : 'Collapse all';
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

    function obj_merge(target, source) {
        for (var item in source) {
            if (source.hasOwnProperty(item)) {
                target[item] = source[item];
            }
        }
        return target;
    }
</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">常用的三方库</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">CXZ</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">March 30, 2025&nbsp;&nbsp;22:29:55</a>
                        </span>
                    
                    
                </div>
            
        </header>

        <div class="post-content">
            <h1 id="一、numpy"><a href="#一、numpy" class="headerlink" title="一、numpy"></a>一、numpy</h1><h2 id="1-概念"><a href="#1-概念" class="headerlink" title="1.概念"></a>1.概念</h2><h2 id="numpy概念"><a href="#numpy概念" class="headerlink" title="numpy概念"></a>numpy概念</h2><ul>
<li>NumPy 的全称是“ Numeric Python”，它是 Python 的第三方扩展包，主要用来计算、处理一维或多维数组</li>
<li>在数组算术计算方面， NumPy 提供了大量的数学函数</li>
<li>NumPy 的底层主要用 C语言编写，因此它能够高速地执行数值计算</li>
<li>NumPy 还提供了多种数据结构，这些数据结构能够非常契合的应用在数组和矩阵的运算上</li>
</ul>
<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><p>NumPy 可以很便捷高效地处理大量数据，使用 NumPy 做数据处理的优点如下：</p>
<ul>
<li>NumPy 是 Python 科学计算基础库</li>
<li>NumPy 可以对数组进行高效的数学运算</li>
<li>NumPy 的 ndarray 对象可以用来构建多维数组</li>
<li>NumPy 能够执行傅立叶变换与重塑多维数组形状</li>
<li>NumPy 提供了线性代数，以及随机数生成的内置函数</li>
</ul>
<h2 id="2-numpy的创建"><a href="#2-numpy的创建" class="headerlink" title="2.numpy的创建"></a>2.numpy的创建</h2><h3 id="2-1创建一般的矩阵"><a href="#2-1创建一般的矩阵" class="headerlink" title="2.1创建一般的矩阵"></a>2.1创建一般的矩阵</h3><ul>
<li><p>参数：numpy.array(object, dtype &#x3D; None, copy &#x3D; True, order &#x3D; None,ndmin &#x3D; 0)</p>
</li>
<li></li>
<li><table>
<thead>
<tr>
<th align="center">序号</th>
<th align="center">参数</th>
<th align="center">描述说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">object</td>
<td align="center">表示一个数组序列</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">dtype</td>
<td align="center">可选参数，通过它可以更改数组的数据类型</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">copy</td>
<td align="center">可选参数，表示数组能否被复制，默认是 True</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">order</td>
<td align="center">以哪种内存布局创建数组，有 3 个可选值，分别是 C(行序列)&#x2F;F(列序列)&#x2F;A(默认)</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">ndmin</td>
<td align="center">用于指定数组的维度</td>
</tr>
</tbody></table>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">a=np.array([[1,2,3],[4,5,6]])</span><br></pre></td></tr></table></figure>

<h3 id="2-2np-zeros-创建0矩阵"><a href="#2-2np-zeros-创建0矩阵" class="headerlink" title="2.2np.zeros()创建0矩阵"></a>2.2np.zeros()创建0矩阵</h3><p>参数：numpy.zeros(shape, dtype &#x3D; float, order &#x3D; ‘C’)</p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">shape</td>
<td align="center">数组形状</td>
</tr>
<tr>
<td align="center">dtype</td>
<td align="center">数据类型，可选</td>
</tr>
<tr>
<td align="center">order</td>
<td align="center">‘C’ 用于 C 的行数组，或者 ‘F’ 用于 FORTRAN 的列数组</td>
</tr>
</tbody></table>
<p><strong>案例：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a=np.zeros((2,3))</span><br><span class="line">print(a)#2行3列的0行列</span><br></pre></td></tr></table></figure>

<h3 id="2-3np-ones-创建单位1矩阵"><a href="#2-3np-ones-创建单位1矩阵" class="headerlink" title="2.3np.ones()创建单位1矩阵"></a>2.3np.ones()创建单位1矩阵</h3><p>参数：numpy.ones(shape, dtype &#x3D; None, order &#x3D; ‘C’)</p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">shape</td>
<td align="center">数组形状</td>
</tr>
<tr>
<td align="center">dtype</td>
<td align="center">数据类型，可选</td>
</tr>
<tr>
<td align="center">order</td>
<td align="center">‘C’ 用于 C 的行数组，或者 ‘F’ 用于 FORTRAN 的列数组</td>
</tr>
</tbody></table>
<p><strong>案例：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a=np.ones((4,3))</span><br><span class="line">print(a)#2行3列的1行列</span><br></pre></td></tr></table></figure>

<h3 id="2-4np-full-创建指定数的矩阵"><a href="#2-4np-full-创建指定数的矩阵" class="headerlink" title="2.4np.full()创建指定数的矩阵"></a>2.4np.full()创建指定数的矩阵</h3><p>参数：numpy.full(shape, fill_value, dtype&#x3D;None, order&#x3D;’C’)</p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">shape</td>
<td align="center">数组的形状（如 <code>(2, 3)</code> 表示 2 行 3 列的数组）</td>
</tr>
<tr>
<td align="center">fill_value</td>
<td align="center">填充的值</td>
</tr>
<tr>
<td align="center">dtype</td>
<td align="center">数组的数据类型（如 <code>np.float32</code>）</td>
</tr>
<tr>
<td align="center">order</td>
<td align="center">数组的内存布局（如 <code>&#39;C&#39;</code> 表示 C 风格，<code>&#39;F&#39;</code> 表示 Fortran 风格）</td>
</tr>
</tbody></table>
<p>案例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># full方法根据指定形状创建，元素可使用指定值进行填充</span><br><span class="line">a=np.full((2,3),5)#2行3列的5行列</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>

<h3 id="2-5arange函数创建指定大小的矩阵"><a href="#2-5arange函数创建指定大小的矩阵" class="headerlink" title="2.5arange函数创建指定大小的矩阵"></a>2.5arange函数创建指定大小的矩阵</h3><p>arange() 函数用于创建一个等差数列的数组。它类似于 Python 内置的 range() 函数，但返回的是一个 NumPy 数组而不是一个列表。</p>
<p><strong>格式：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.arange(start, stop, step, dtype)</span><br></pre></td></tr></table></figure>

<p>根据 start 与 stop 指定的范围以及 step 设定的步长，生成一个 ndarray。</p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">start</td>
<td align="center">起始值，默认为 0</td>
</tr>
<tr>
<td align="center">stop</td>
<td align="center">终止值（不包含）</td>
</tr>
<tr>
<td align="center">step</td>
<td align="center">步长，默认为 1</td>
</tr>
<tr>
<td align="center">dtype</td>
<td align="center">返回 ndarray 的数据类型，如果没有提供，则会使用输入数据的类型</td>
</tr>
</tbody></table>
<p><strong>案例1：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个从 0 到 9 的数组</span></span><br><span class="line">arr = np.arange(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line"><span class="comment"># 输出:</span></span><br><span class="line"><span class="comment"># [0 1 2 3 4 5 6 7 8 9]</span></span><br></pre></td></tr></table></figure>

<h3 id="2-6-linspace"><a href="#2-6-linspace" class="headerlink" title="2.6 linspace"></a>2.6 linspace</h3><p>在指定的数值区间内，返回均匀间隔的一维等差数组，默认均分 50 份</p>
<p><strong>格式：</strong>(stop-start）&#x2F;(num-1)</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.linspace(start, stop, num=<span class="number">50</span>, endpoint=<span class="literal">True</span>, retstep=<span class="literal">False</span>, dtype=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">start</td>
<td align="center">起始值，默认为 0</td>
</tr>
<tr>
<td align="center">stop</td>
<td align="center">终止值（默认包含）</td>
</tr>
<tr>
<td align="center">num</td>
<td align="center">表示数值区间内要生成多少个均匀的样本，默认值为 50</td>
</tr>
<tr>
<td align="center">endpoint</td>
<td align="center">默认为 True，表示数列包含 stop 终止值，反之不包含</td>
</tr>
<tr>
<td align="center">retstep</td>
<td align="center">表示是否返回步长。如果为 True，则返回一个包含数组和步长的元组；如果为 False，则只返回数组。默认为 False。</td>
</tr>
<tr>
<td align="center">dtype</td>
<td align="center">返回 ndarray 的数据类型，默认为 None，表示根据输入参数自动推断数据类型。</td>
</tr>
</tbody></table>
<p><strong>案例：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=np.linspace(start=<span class="number">1</span>,stop=<span class="number">10</span>,num=<span class="number">20</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">a=np.linspace(start=<span class="number">1</span>, stop=<span class="number">100</span>, num=<span class="number">50</span>, endpoint=<span class="literal">True</span>, retstep=<span class="literal">False</span>, dtype=<span class="literal">None</span>)<span class="comment">#默认包含终止值</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[ 1.          1.47368421  1.94736842  2.42105263  2.89473684  3.36842105</span><br><span class="line">  3.84210526  4.31578947  4.78947368  5.26315789  5.73684211  6.21052632</span><br><span class="line">  6.68421053  7.15789474  7.63157895  8.10526316  8.57894737  9.05263158</span><br><span class="line">  9.52631579 10.        ]</span><br><span class="line">[  1.           3.02040816   5.04081633   7.06122449   9.08163265</span><br><span class="line">  11.10204082  13.12244898  15.14285714  17.16326531  19.18367347</span><br><span class="line">  21.20408163  23.2244898   25.24489796  27.26530612  29.28571429</span><br><span class="line">  31.30612245  33.32653061  35.34693878  37.36734694  39.3877551</span><br><span class="line">  41.40816327  43.42857143  45.44897959  47.46938776  49.48979592</span><br><span class="line">  51.51020408  53.53061224  55.55102041  57.57142857  59.59183673</span><br><span class="line">  61.6122449   63.63265306  65.65306122  67.67346939  69.69387755</span><br><span class="line">  71.71428571  73.73469388  75.75510204  77.7755102   79.79591837</span><br><span class="line">  81.81632653  83.83673469  85.85714286  87.87755102  89.89795918</span><br><span class="line">  91.91836735  93.93877551  95.95918367  97.97959184 100.        ]</span><br></pre></td></tr></table></figure>

<p>说明：以上几个函数通常用于创建数字类型的数组，也可以用于创建布尔、字符串等类型的数组。但更适合用于创建数字数组。</p>
<h2 id="3-数据类型"><a href="#3-数据类型" class="headerlink" title="3.数据类型"></a>3.数据类型</h2><p>NumPy 提供了比 Python 更加丰富的数据类型，如下所示：</p>
<table>
<thead>
<tr>
<th align="center">序号</th>
<th align="center">数据类型</th>
<th align="center">语言描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">bool_</td>
<td align="center">布尔型数据类型（True 或者 False）</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">int_</td>
<td align="center">默认整数类型，类似于 C 语言中的 long，取值为 int32 或 int64</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">intc</td>
<td align="center">和 C 语言的 int 类型一样，一般是 int32 或 int 64</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">intp</td>
<td align="center">用于索引的整数类型（类似于 C 的 ssize_t，通常为 int32 或 int64）</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">int8</td>
<td align="center">代表与1字节相同的8位整数。值的范围是-128到127</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">int16</td>
<td align="center">代表 2 字节（16位）的整数。范围是-32768至32767</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">int32</td>
<td align="center">代表 4 字节（32位）整数。范围是-2147483648至2147483647</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">int64</td>
<td align="center">表示 8 字节（64位）整数。范围是-9223372036854775808至9223372036854775807</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">uint8</td>
<td align="center">1字节（8位）无符号整数</td>
</tr>
<tr>
<td align="center">10</td>
<td align="center">uint16</td>
<td align="center">2 字节（16位）无符号整数</td>
</tr>
<tr>
<td align="center">11</td>
<td align="center">uint32</td>
<td align="center">4 字节（32位）无符号整数</td>
</tr>
<tr>
<td align="center">12</td>
<td align="center">uint64</td>
<td align="center">8 字节（64位）无符号整数</td>
</tr>
<tr>
<td align="center">13</td>
<td align="center">float_</td>
<td align="center">float64 类型的简写</td>
</tr>
<tr>
<td align="center">14</td>
<td align="center">float16</td>
<td align="center">半精度浮点数，包括：1 个符号位，5 个指数位，10个尾数位</td>
</tr>
<tr>
<td align="center">15</td>
<td align="center">float32</td>
<td align="center">单精度浮点数，包括：1 个符号位，8 个指数位，23个尾数位</td>
</tr>
<tr>
<td align="center">16</td>
<td align="center">float64</td>
<td align="center">双精度浮点数，包括：1 个符号位，11 个指数位，52个尾数位</td>
</tr>
<tr>
<td align="center">17</td>
<td align="center">complex_</td>
<td align="center">复数类型，与 complex128 类型相同</td>
</tr>
<tr>
<td align="center">18</td>
<td align="center">complex64</td>
<td align="center">表示实部和虚部共享 32 位的复数</td>
</tr>
<tr>
<td align="center">19</td>
<td align="center">complex128</td>
<td align="center">表示实部和虚部共享 64 位的复数</td>
</tr>
<tr>
<td align="center">20</td>
<td align="center">str_</td>
<td align="center">表示字符串类型，等价于unicode_</td>
</tr>
<tr>
<td align="center">21</td>
<td align="center">bytes_</td>
<td align="center">表示字节串类型，基于字节</td>
</tr>
<tr>
<td align="center">22</td>
<td align="center">string_</td>
<td align="center">表示字节串类型，等价于<code>bytes_</code>，基于字节，NumPy 2.0以后版本被移除，使用<code>bytes_</code>代替</td>
</tr>
<tr>
<td align="center">23</td>
<td align="center">unicode_</td>
<td align="center">表示字节串类型，基于字符，NumPy 2.0以后版本被移除，使用st</td>
</tr>
</tbody></table>
<h2 id="3-1-数据类型对象"><a href="#3-1-数据类型对象" class="headerlink" title="3.1 数据类型对象"></a>3.1 数据类型对象</h2><p>数据类型对象（Data Type Object）又称 dtype 对象，是用来描述与数组对应的内存区域如何使用。</p>
<p>1.可以在创建数组时指定 dtype 参数来定义数组中元素的数据类型。</p>
<p><strong>例如：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个 int32 类型的数组</span></span><br><span class="line">arr_int = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], dtype=np.int32)</span><br><span class="line"><span class="built_in">print</span>(arr_int.dtype)  <span class="comment"># 输出: int32</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个 float64 类型的数组</span></span><br><span class="line">arr_float = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], dtype=np.float64)</span><br><span class="line"><span class="built_in">print</span>(arr_float.dtype)  <span class="comment"># 输出: float64</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">arr_str = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],dtype=np.string_)</span><br><span class="line"><span class="built_in">print</span>(arr_str)</span><br><span class="line"><span class="comment">#输出：</span></span><br><span class="line">AttributeError: `np.string_` was removed <span class="keyword">in</span> the NumPy <span class="number">2.0</span> release. Use `np.bytes_` instead.</span><br><span class="line">    </span><br><span class="line">arr_str = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],dtype=np.bytes_)</span><br><span class="line"><span class="built_in">print</span>(arr_str)</span><br><span class="line"><span class="comment">#输出：</span></span><br><span class="line">[<span class="string">b&#x27;1&#x27;</span> <span class="string">b&#x27;2&#x27;</span> <span class="string">b&#x27;3&#x27;</span>]</span><br><span class="line"></span><br><span class="line">arr_str = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],dtype=np.unicode_)</span><br><span class="line"><span class="built_in">print</span>(arr_str)</span><br><span class="line"><span class="comment"># 输出：</span></span><br><span class="line">AttributeError: `np.unicode_` was removed <span class="keyword">in</span> the NumPy <span class="number">2.0</span> release. Use `np.str_` instead.</span><br><span class="line"></span><br><span class="line">arr_str = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],dtype=np.str_)</span><br><span class="line"><span class="built_in">print</span>(arr_str)</span><br><span class="line"><span class="comment"># 输出：</span></span><br><span class="line">[<span class="string">&#x27;1&#x27;</span> <span class="string">&#x27;2&#x27;</span> <span class="string">&#x27;3&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p>2.可以使用数组的 dtype 属性来获取数组中元素的数据类型。</p>
<p><strong>例如：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([1, 2, 3])</span><br><span class="line">print(arr.dtype)  # 输出: int32</span><br></pre></td></tr></table></figure>

<p>3.可以使用 <strong>astype()</strong> 方法来转换数组中元素的数据类型。</p>
<p><strong>例如：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">arr_float = arr.astype(np.float64)</span><br><span class="line"><span class="built_in">print</span>(arr_float.dtype)  <span class="comment"># 输出: float64</span></span><br></pre></td></tr></table></figure>

<h2 id="3-2-数据类型标识码"><a href="#3-2-数据类型标识码" class="headerlink" title="3.2 数据类型标识码"></a>3.2 数据类型标识码</h2><p>NumPy 中每种数据类型都有一个唯一标识的字符码，int8, int16, int32, int64 四种数据类型可以使用字符串 ‘i1’, ‘i2’,’i4’,’i8’ 代替，如下所示：</p>
<table>
<thead>
<tr>
<th align="center">字符</th>
<th align="center">对应类型</th>
</tr>
</thead>
<tbody><tr>
<td align="center">b</td>
<td align="center">代表布尔型</td>
</tr>
<tr>
<td align="center">i</td>
<td align="center">带符号整型</td>
</tr>
<tr>
<td align="center">u</td>
<td align="center">无符号整型</td>
</tr>
<tr>
<td align="center">f</td>
<td align="center">浮点型</td>
</tr>
<tr>
<td align="center">c</td>
<td align="center">复数浮点型</td>
</tr>
<tr>
<td align="center">m</td>
<td align="center">时间间隔（timedelta）</td>
</tr>
<tr>
<td align="center">M</td>
<td align="center">datatime（日期时间）</td>
</tr>
<tr>
<td align="center">O</td>
<td align="center">Python对象</td>
</tr>
<tr>
<td align="center">S,a</td>
<td align="center">字节串（S）与字符串（a）</td>
</tr>
<tr>
<td align="center">U</td>
<td align="center">Unicode</td>
</tr>
<tr>
<td align="center">V</td>
<td align="center">原始数据（void）</td>
</tr>
</tbody></table>
<p>以下是 NumPy 中常见的数据类型标识码及其对应的详细列表：</p>
<p><strong>整数类型</strong></p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>标识码</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>int8</td>
<td>i1</td>
<td>8 位有符号整数</td>
</tr>
<tr>
<td>int16</td>
<td>i2</td>
<td>16 位有符号整数</td>
</tr>
<tr>
<td>int32</td>
<td>i4</td>
<td>32 位有符号整数</td>
</tr>
<tr>
<td>int64</td>
<td>i8</td>
<td>64 位有符号整数</td>
</tr>
<tr>
<td>uint8</td>
<td>u1</td>
<td>8 位无符号整数</td>
</tr>
<tr>
<td>uint16</td>
<td>u2</td>
<td>16 位无符号整数</td>
</tr>
<tr>
<td>uint32</td>
<td>u4</td>
<td>32 位无符号整数</td>
</tr>
<tr>
<td>uint64</td>
<td>u8</td>
<td>64 位无符号整数</td>
</tr>
</tbody></table>
<p><strong>浮点数类型</strong></p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>标识码</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>float16</td>
<td>f2</td>
<td>16 位浮点数（半精度）</td>
</tr>
<tr>
<td>float32</td>
<td>f4</td>
<td>32 位浮点数（单精度）</td>
</tr>
<tr>
<td>float64</td>
<td>f8</td>
<td>64 位浮点数（双精度）</td>
</tr>
</tbody></table>
<p><strong>复数类型</strong></p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>标识码</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>complex64</td>
<td>c8</td>
<td>64 位复数（单精度）</td>
</tr>
<tr>
<td>complex128</td>
<td>c16</td>
<td>128 位复数（双精度）</td>
</tr>
</tbody></table>
<p><strong>布尔类型</strong></p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>标识码</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>bool</td>
<td>b1</td>
<td>布尔类型</td>
</tr>
</tbody></table>
<p><strong>字符串类型</strong></p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>标识码</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>bytes</td>
<td>S10</td>
<td>长度为 10 的字节串</td>
</tr>
<tr>
<td>str</td>
<td>U10</td>
<td>长度为 10 的 Unicode 字符串</td>
</tr>
</tbody></table>
<p><strong>Python 对象类型</strong></p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>标识码</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>O</td>
<td>O</td>
<td>Python 对象类型</td>
</tr>
</tbody></table>
<p>例如：自定义一个int32的数据类型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dt=np.dtype(<span class="string">&#x27;i4&#x27;</span>)</span><br><span class="line">data = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],dtype=dt)</span><br><span class="line"><span class="built_in">print</span>(data)   <span class="comment">#输出：[1 2 3 4]</span></span><br><span class="line"><span class="built_in">print</span>(data.dtype)	<span class="comment">#输出：int32</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>可以自定义复杂的数据结构：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dt=np.dtype(&#x27;i4&#x27;)</span><br><span class="line">data = np.array([1,2,3,4],dtype=dt)</span><br><span class="line">print(data)   #输出：[1 2 3 4]</span><br><span class="line">print(data.dtype)	#输出：int32</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>可以自定义复杂的数据结构：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dt=np.dtype([(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;S10&#x27;</span>),(<span class="string">&#x27;age&#x27;</span>,<span class="string">&#x27;i4&#x27;</span>)])</span><br><span class="line">data = np.array([(<span class="string">&#x27;zhangsan&#x27;</span>,<span class="number">20</span>),(<span class="string">&#x27;lisi&#x27;</span>,<span class="number">21</span>)],dtype=dt)</span><br><span class="line"><span class="built_in">print</span>(data)			<span class="comment">#输出：[(b&#x27;zhangsan&#x27;, 20) (b&#x27;lisi&#x27;, 21)]</span></span><br><span class="line"><span class="built_in">print</span>(data.dtype)	<span class="comment">#输出：[(&#x27;name&#x27;, &#x27;S10&#x27;), (&#x27;age&#x27;, &#x27;&lt;i4&#x27;)]</span></span><br></pre></td></tr></table></figure>

<p>说明：</p>
<p>在编程中，字节序标记用于指定数据的字节顺序。常见的字节序标记包括：</p>
<ul>
<li><strong><code>&lt;</code></strong>: 小端序，数据的最低有效字节存储在内存的最低地址，而最高有效字节存储在内存的最高地址。</li>
<li><strong><code>&gt;</code></strong>: 大端序，数据的最高有效字节存储在内存的最低地址，而最低有效字节存储在内存的最高地址。</li>
</ul>
<h2 id="4-数组属性"><a href="#4-数组属性" class="headerlink" title="4.数组属性"></a>4.数组属性</h2><h3 id="4-1-shape"><a href="#4-1-shape" class="headerlink" title="4.1 shape"></a>4.1 shape</h3><p>返回一个元组，元组中的每个元素表示数组在对应维度上的大小。元组的长度等于数组的维度数。可定义形状并且在主函数内改变</p>
<p>shape 属性功能：</p>
<ol>
<li>返回一个由数组维度构成的元组</li>
<li>通过赋值，可以用来调整数组维度的大小</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">shape_test</span>():</span><br><span class="line">    array_one = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;array_one 原数组维度：&#x27;</span>,array_one.shape)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;array_one 原数组内容：&#x27;</span>,array_one)</span><br><span class="line">    array_one.shape = (<span class="number">3</span>,<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;array_one 转变数组维度大小之后的数组维度：&#x27;</span>,array_one.shape)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;array_one 转变数组维度大小之后的数组内容：&#x27;</span>,array_one)</span><br></pre></td></tr></table></figure>

<p>如果使用shape属性修改数组的形状，则修改的是原数组的形状，reshape修改数组的形状会返回一个新数组，不修改原数组的形状。</p>
<h3 id="4-2-数组维度"><a href="#4-2-数组维度" class="headerlink" title="4.2 数组维度"></a>4.2 数组维度</h3><p>数组的维度就是一个数组中的某个元素，当用数组下标表示的时候，需要用几个数字来表示才能唯一确定这个元素，这个数组就是几维，定义ndmin，增加[]</p>
<p><code>ndmin</code> 是 NumPy 中用于创建数组时指定最小维度的参数。它通常在 <code>numpy.array()</code> 函数中使用。通过 <code>ndmin</code>，你可以确保生成的数组至少具有指定的维度。</p>
<p><code>ndim</code> 是 NumPy 数组的一个属性，用于返回数组的维度数（即数组的秩）。它表示数组有多少个维度。</p>
<p><strong>案例：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定/查看数组维度</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">ndmin_test</span>():</span><br><span class="line">    threeArray = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],ndmin=<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ndmin 指定数组：&quot;</span>,threeArray)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ndmin 指定数组：&quot;</span>,<span class="built_in">type</span>(threeArray))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ndim 查看维度：&quot;</span>,threeArray.ndim)</span><br></pre></td></tr></table></figure>

<h3 id="4-3-flags"><a href="#4-3-flags" class="headerlink" title="4.3 flags"></a>4.3 flags</h3><p>flags 属性功能：</p>
<ol>
<li>返回 ndarray 数组的内存信息</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a=np.arange(6)</span><br><span class="line">a.shape=(2,3)</span><br><span class="line">print(a)</span><br><span class="line">print(a.flags)</span><br><span class="line">&quot;&quot;&quot;  C_CONTIGUOUS : True</span><br><span class="line">  F_CONTIGUOUS : False </span><br><span class="line">  明按行存储 &quot;&quot;&quot;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[[0 1 2]</span><br><span class="line"> [3 4 5]]</span><br><span class="line">  C_CONTIGUOUS : True</span><br><span class="line">  F_CONTIGUOUS : False</span><br><span class="line">  OWNDATA : True</span><br><span class="line">  WRITEABLE : True</span><br><span class="line">  ALIGNED : True</span><br><span class="line">  WRITEBACKIFCOPY : False</span><br></pre></td></tr></table></figure>

<h3 id="4-4slice切片"><a href="#4-4slice切片" class="headerlink" title="4.4slice切片"></a>4.4slice切片</h3><p>在 Python 中，slice 可以作为一个对象来使用。你可以创建一个 slice 对象，然后使用它来获取序列的片段。</p>
<p>参数：</p>
<ul>
<li>start 是切片开始的位置（包含该位置）。</li>
<li>stop 是切片结束的位置（不包含该位置）。</li>
<li>step 是切片的步长，即选取元素的间隔。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">    slice 函数：</span><br><span class="line">        1、从原数组的上切割出一个新数组</span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">def slice_test():</span><br><span class="line">    array_one = np.array([1,2,3,4])</span><br><span class="line">    print(&quot;array_one 数组内容：&quot;,array_one)</span><br><span class="line">    result = slice(0,len(array_one),2)</span><br><span class="line">    print(&quot;slice 截取的索引：&quot;,result)</span><br><span class="line">    print(&quot;slice 截取 array_one 数组内容：&quot;,array_one[result])</span><br><span class="line">slice_test()</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">array_one 数组内容： [1 2 3 4]</span><br><span class="line">slice 截取的索引： slice(0, 4, 2)</span><br><span class="line">slice 截取 array_one 数组内容： [1 3]</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">def two():</span><br><span class="line">    array_one = np.array([[1, 2, 3], [4, 5, 6]])</span><br><span class="line">    print(array_one)</span><br><span class="line">    print(array_one[..., 1])  # 第2列元素</span><br><span class="line">    print(array_one[1,...]) # 第2行元素</span><br><span class="line">    print(array_one[1:2, 1:2])  # 第2行第2列元素</span><br><span class="line">    print(array_one[1:2])</span><br><span class="line">    print(array_one[..., 1:])  # 第2列及剩下的所有元素</span><br><span class="line">two()</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[[1 2 3]</span><br><span class="line"> [4 5 6]]</span><br><span class="line">[2 5]</span><br><span class="line">[4 5 6]</span><br><span class="line">[[5]]</span><br><span class="line">[[4 5 6]]</span><br><span class="line">[[2 3]</span><br><span class="line"> [5 6]]</span><br></pre></td></tr></table></figure>

<p>冒号 : 的作用</p>
<ul>
<li>表示范围: 冒号用于表示一个范围。例如，array[1:3] 表示从索引 1 到索引 3（不包括 3）的元素。</li>
<li>表示所有元素: 单独使用冒号表示所有元素。例如，array[:, 1] 表示所有行的第 1 列。</li>
<li>步长: 双冒号后面可以跟一个步长值，表示每隔多少个元素取一个。例如，array[::2] 表示每隔一个元素取一个。</li>
</ul>
<p>注：冒号对于一维数组按索引号截取，二维数组按行和列截取。</p>
<p>省略号 … 的作用</p>
<ul>
<li>表示所有维度: 省略号用于表示数组的所有维度。例如，array[…, 1] 表示取所有行的第 1 列。</li>
<li>简化多维切片: 在多维数组中，省略号可以简化切片操作，避免显式地写出所有维度的索引。</li>
</ul>
<p><strong>注意</strong>：slice返回的数组是原数组的一个视图，修改数据会影响原数组中的数据。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">array_one = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line">array_two = array_one[..., <span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(array_two)</span><br><span class="line">array_two[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line"><span class="built_in">print</span>(array_two)</span><br><span class="line"><span class="built_in">print</span>(array_one)</span><br></pre></td></tr></table></figure>

<h2 id="6-高级索引"><a href="#6-高级索引" class="headerlink" title="6.高级索引"></a>6.高级索引</h2><p>NumPy 中的高级索引指的是使用整数数组、布尔数组或者其他序列来访问数组的元素。相比于基本索引，高级索引可以访问到数组中的任意元素，并且可以用来对数组进行复杂的操作和修改。</p>
<h3 id="6-1整数数组"><a href="#6-1整数数组" class="headerlink" title="6.1整数数组"></a>6.1整数数组</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">a=np.array([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36])</span><br><span class="line">a=a.reshape(6,6)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(a)</span><br><span class="line">print(a[[0,0,1],[1,2,0]])#输入坐标值</span><br><span class="line"></span><br><span class="line">print(a[[0,-1,-1,0],[-1,0,-1,0]])#输入坐标值,输出四角的数据</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[[ 1  2  3  4  5  6]</span><br><span class="line"> [ 7  8  9 10 11 12]</span><br><span class="line"> [13 14 15 16 17 18]</span><br><span class="line"> [19 20 21 22 23 24]</span><br><span class="line"> [25 26 27 28 29 30]</span><br><span class="line"> [31 32 33 34 35 36]]</span><br><span class="line">[2 3 7]</span><br><span class="line">[ 6 31 36  1]</span><br></pre></td></tr></table></figure>

<h3 id="6-2布尔索引"><a href="#6-2布尔索引" class="headerlink" title="6.2布尔索引"></a>6.2布尔索引</h3><p>取出满足条件的索引</p>
<p>布尔索引通过布尔运算（如：比较运算符）来获取符合指定条件的元素的数组。</p>
<p><strong>案例1：一维数组的布尔索引</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个一维数组</span></span><br><span class="line">arr = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用布尔索引筛选大于 5 的元素</span></span><br><span class="line">bool_idx = arr &gt; <span class="number">5</span></span><br><span class="line"><span class="built_in">print</span>(bool_idx)  <span class="comment"># 输出: [False False False False False  True  True  True  True]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用布尔索引获取满足条件的元素</span></span><br><span class="line">result = arr[bool_idx]</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出: [ 6  7  8  9]</span></span><br></pre></td></tr></table></figure>

<p><strong>案例2：多维数组的布尔索引</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个二维数组</span></span><br><span class="line">arr = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用布尔索引筛选大于 5 的元素</span></span><br><span class="line">bool_idx = arr &gt; <span class="number">5</span></span><br><span class="line"><span class="built_in">print</span>(bool_idx)</span><br><span class="line"><span class="comment"># 输出:</span></span><br><span class="line"><span class="comment"># [[False False False]</span></span><br><span class="line"><span class="comment">#  [False False  True]</span></span><br><span class="line"><span class="comment">#  [ True  True  True]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用布尔索引获取满足条件的元素</span></span><br><span class="line">result = arr[bool_idx]</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出: [6 7 8 9]</span></span><br></pre></td></tr></table></figure>

<p><strong>案例3：切片布尔索引</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个二维数组</span></span><br><span class="line">arr = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 索引第3个元素大于3的所有行</span></span><br><span class="line"><span class="built_in">print</span>(data[data[:, <span class="number">2</span>] &gt; <span class="number">3</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 索引第2行 值大于3 的所有的元素 所在的列</span></span><br><span class="line"><span class="built_in">print</span>(data[:, data[<span class="number">1</span>] &gt; <span class="number">3</span>])</span><br></pre></td></tr></table></figure>

<p><strong>案例4：</strong></p>
<p>使用逻辑运算符（如 &amp;、|、~）组合多个条件。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个一维数组</span></span><br><span class="line">arr = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用布尔索引筛选大于 5 且小于 9 的元素</span></span><br><span class="line">bool_idx = (arr &gt; <span class="number">5</span>) &amp; (arr &lt; <span class="number">9</span>)</span><br><span class="line"><span class="built_in">print</span>(bool_idx)  <span class="comment"># 输出: [False False False False False  True  True  True False False]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用布尔索引获取满足条件的元素</span></span><br><span class="line">result = arr[bool_idx]</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出: [6 7 8]</span></span><br></pre></td></tr></table></figure>

<p><strong>逻辑运算符</strong>：</p>
<ul>
<li>&amp;：与运算，组合多个条件。</li>
<li>|：或运算，组合多个条件。</li>
<li>~：非运算，取反条件。</li>
</ul>
<h2 id="7-广播机制"><a href="#7-广播机制" class="headerlink" title="7.广播机制"></a>7.广播机制</h2><p>- 把两个不同形状的数组变成相同共同形状：对其中一个数组在行方向或列方向进行数据复制使其变成和另外一个数组相同的形状。</p>
<p>- 前提在行或列维度必须为一才能使用使用广播机制</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot; 1、维度匹配：如果两个数组的维度数不同，维度数较少的数组会在前面补上长度为 1 的维度。 &quot;&quot;&quot;</span><br><span class="line">import numpy as np</span><br><span class="line">a=np.array([[1,2,3],[4,5,6]])# a.shape=(2,3)</span><br><span class="line">print(a.shape)</span><br><span class="line">b=np.array([[10,20,30]])# b.shape=(1,3)</span><br><span class="line">print(b.shape)</span><br><span class="line">print(a+b)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(2, 3)</span><br><span class="line">(1, 3)</span><br><span class="line">[[11 22 33]</span><br><span class="line"> [14 25 36]]</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot; 2、形状匹配：如果两个数组在某个维度上的长度不同，但其中一个数组在该维度上的长度为 1，则该数组会沿着该维度进行广播。 &quot;&quot;&quot;</span><br><span class="line">a=np.array([[1,2,3],[4,5,6],[7,8,9]])</span><br><span class="line">b=np.array([[1],[2],[3]])</span><br><span class="line">c=np.array([[10,20,30]])</span><br><span class="line">print(a+b)</span><br><span class="line">print(a+c)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[[ 2  3  4]</span><br><span class="line"> [ 6  7  8]</span><br><span class="line"> [10 11 12]]</span><br><span class="line">[[11 22 33]</span><br><span class="line"> [14 25 36]</span><br><span class="line"> [17 28 39]]</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot; 3、不匹配：如果两个数组在某个维度上的长度既不相同也不为 1，则广播失败，抛出 ValueError。 &quot;&quot;&quot;</span><br><span class="line">import numpy as np</span><br><span class="line">a=np.array([1,2,3])</span><br><span class="line">b=np.array([4,5])</span><br><span class="line">print(a+b)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">报错</span><br></pre></td></tr></table></figure>

<h2 id="8-遍历数组"><a href="#8-遍历数组" class="headerlink" title="8.遍历数组"></a>8.遍历数组</h2><h3 id="8-1-遍历数组的第一维度"><a href="#8-1-遍历数组的第一维度" class="headerlink" title="8.1 遍历数组的第一维度"></a>8.1 遍历数组的第一维度</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">arr = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> arr:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>

<p><code>for i in arr:</code> 遍历数组的<strong>第一维度</strong>，即按行或列的顺序逐个访问元素。</p>
<p>返回的是数组的子数组（如行或列），而不是单个元素。</p>
<h3 id="8-2-nditer逐个访问元素"><a href="#8-2-nditer逐个访问元素" class="headerlink" title="8.2 nditer逐个访问元素"></a>8.2 nditer逐个访问元素</h3><p><strong>nditer</strong> 是 NumPy 中的一个强大的迭代器对象，用于高效地遍历多维数组。nditer 提供了多种选项和控制参数，使得数组的迭代更加灵活和高效。</p>
<p><strong>控制参数</strong></p>
<p>nditer 提供了多种控制参数，用于控制迭代的行为。</p>
<p>1.order 参数</p>
<p>order 参数用于指定数组的遍历顺序。默认情况下，nditer 按照 C 风格（行优先）遍历数组。</p>
<ul>
<li><strong>C 风格（行优先）</strong>: order&#x3D;’C’</li>
<li><strong>Fortran 风格（列优先）</strong>: order&#x3D;’F’</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#遍历迭代器遍历</span><br><span class="line">a=np.array([[1,2,3],[4,5,6]])</span><br><span class="line">for i in np.nditer(a,order=&#x27;F&#x27;):#列优先</span><br><span class="line">    print(i,end=&#x27; &#x27;)</span><br><span class="line">print()</span><br><span class="line">for i in np.nditer(a,order=&#x27;C&#x27;):#行优先</span><br><span class="line">    print(i,end=&#x27; &#x27;)  </span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 4 2 5 3 6 </span><br><span class="line">1 2 3 4 5 6</span><br></pre></td></tr></table></figure>



<h3 id="8-3flags-参数"><a href="#8-3flags-参数" class="headerlink" title="8.3flags 参数"></a>8.3flags 参数</h3><p>flags 参数用于指定迭代器的额外行为。</p>
<h4 id="8-3-1multi-index"><a href="#8-3-1multi-index" class="headerlink" title="8.3.1multi_index"></a>8.3.1multi_index</h4><p>返回每个元素的多维索引。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">a=np.array([[1,2,3],[4,5,6]])</span><br><span class="line">print(a.shape[0])</span><br><span class="line">it= np.nditer(a,flags=[&#x27;multi_index&#x27;])</span><br><span class="line">for i in it:</span><br><span class="line">    print(i,it.multi_index)</span><br><span class="line">    i=i+2</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">1 (0, 0)</span><br><span class="line">2 (0, 1)</span><br><span class="line">3 (0, 2)</span><br><span class="line">4 (1, 0)</span><br><span class="line">5 (1, 1)</span><br><span class="line">6 (1, 2)</span><br><span class="line">[[1 2 3]</span><br><span class="line"> [4 5 6]]</span><br></pre></td></tr></table></figure>

<p>8.3.2external_loop</p>
<p> 返回一维数组而不是单个元素，减少函数调用的次数，从而提高性能</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a=np.array([[1,2,3],[4,5,6]])</span><br><span class="line">it=np.nditer(a,flags=[&#x27;external_loop&#x27;],order=&#x27;F&#x27;)#列优先</span><br><span class="line">it_c=np.nditer(a,flags=[&#x27;external_loop&#x27;],order=&#x27;C&#x27;)#会将所有元素打包成一个数组返回，而不是按行打包。</span><br><span class="line">for x in it:</span><br><span class="line">    print(x)</span><br><span class="line">for x in it_c:</span><br><span class="line">    print(x)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[1 4]</span><br><span class="line">[2 5]</span><br><span class="line">[3 6]</span><br><span class="line">[1 2 3 4 5 6],</span><br></pre></td></tr></table></figure>

<h2 id="9-数组创建"><a href="#9-数组创建" class="headerlink" title="9.数组创建"></a>9.数组创建</h2><table>
<thead>
<tr>
<th align="center">函数名称</th>
<th align="center">函数介绍</th>
</tr>
</thead>
<tbody><tr>
<td align="center">reshape</td>
<td align="center">在不改变数组元素的条件下，修改数组的形状</td>
</tr>
<tr>
<td align="center">flat属性</td>
<td align="center">返回是一个迭代器，可以用 for 循环遍历其中的每一个元素</td>
</tr>
<tr>
<td align="center">flatten</td>
<td align="center">以一维数组的形式返回一份数组的副本，对副本的操作不会影响到原数组</td>
</tr>
<tr>
<td align="center">ravel</td>
<td align="center">返回一个连续的扁平数组（即展开的一维数组），与 flatten不同，它返回的是数组视图（修改视图会影响原数组）</td>
</tr>
</tbody></table>
<h3 id="9-1-reshape"><a href="#9-1-reshape" class="headerlink" title="9.1 reshape"></a>9.1 reshape</h3><p>reshape() 函数允许你在不改变数组数据的情况下，改变数组的维度。</p>
<p>reshape() 返回的是一个新的数组，原数组的形状不会被修改。reshape() 可以用于多维数组，例如将一个一维数组重塑为二维数组。</p>
<p>但是，reshape后产生的新数组是原数组的一个视图，即它与原数组共享相同的数据，但可以有不同的形状或维度，且对视图的修改会直接影响原数组。</p>
<p><strong>元素总数必须匹配</strong>：新形状中的元素总数必须与原数组中的元素总数相同。</p>
<p>例如，一个长度为6的一维数组可以被重塑为 (2, 3) 或 (3, 2)，表示原数组被重塑为2行3列或3行2列的数组，但不能被重塑为 (2, 2)。</p>
<p><strong>案例：</strong></p>
<p>将数组改变为二维数组：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a=np.arange(100)</span><br><span class="line">print(a.reshape(10,10))</span><br><span class="line">print(a.reshape((5,20)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(a.reshape(2,-1))</span><br><span class="line">print(a.reshape(2,50))</span><br><span class="line">print(a.reshape(2,-1)==a.reshape(2,50))</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">[[ 0  1  2  3  4  5  6  7  8  9]</span><br><span class="line"> [10 11 12 13 14 15 16 17 18 19]</span><br><span class="line"> [20 21 22 23 24 25 26 27 28 29]</span><br><span class="line"> [30 31 32 33 34 35 36 37 38 39]</span><br><span class="line"> [40 41 42 43 44 45 46 47 48 49]</span><br><span class="line"> [50 51 52 53 54 55 56 57 58 59]</span><br><span class="line"> [60 61 62 63 64 65 66 67 68 69]</span><br><span class="line"> [70 71 72 73 74 75 76 77 78 79]</span><br><span class="line"> [80 81 82 83 84 85 86 87 88 89]</span><br><span class="line"> [90 91 92 93 94 95 96 97 98 99]]</span><br><span class="line">[[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19]</span><br><span class="line"> [20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39]</span><br><span class="line"> [40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59]</span><br><span class="line"> [60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79]</span><br><span class="line"> [80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99]]</span><br><span class="line">[[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23</span><br><span class="line">  24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47</span><br><span class="line">  48 49]</span><br><span class="line"> [50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73</span><br><span class="line">  74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97</span><br><span class="line">  98 99]]</span><br><span class="line">[[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23</span><br><span class="line">  24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47</span><br><span class="line">  48 49]</span><br><span class="line"> [50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73</span><br><span class="line">  74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97</span><br><span class="line">  98 99]]</span><br><span class="line">[[ True  True  True  True  True  True  True  True  True  True  True  True</span><br><span class="line">   True  True  True  True  True  True  True  True  True  True  True  True</span><br><span class="line">   True  True  True  True  True  True  True  True  True  True  True  True</span><br><span class="line">   True  True  True  True  True  True  True  True  True  True  True  True</span><br><span class="line">   True  True]</span><br><span class="line"> [ True  True  True  True  True  True  True  True  True  True  True  True</span><br><span class="line">   True  True  True  True  True  True  True  True  True  True  True  True</span><br><span class="line">   True  True  True  True  True  True  True  True  True  True  True  True</span><br><span class="line">   True  True  True  True  True  True  True  True  True  True  True  True</span><br><span class="line">   True  True]]</span><br></pre></td></tr></table></figure>

<h3 id="9-2flat"><a href="#9-2flat" class="headerlink" title="9.2flat"></a>9.2flat</h3><p>属性返回一个以为数组迭代器，可以使用循环遍历数中的元素</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a=np.arange(1,10).reshape(3,3)</span><br><span class="line">for i in a.flat:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td></tr></table></figure>

<h3 id="9-3flatten"><a href="#9-3flatten" class="headerlink" title="9.3flatten"></a>9.3flatten</h3><p>用于将多维数组转换为一维数组。flatten() 返回的是原数组的一个拷贝，因此对返回的数组进行修改不会影响原数组。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a=np.arange(1,10).reshape(3,3)</span><br><span class="line">print(a)</span><br><span class="line">a1=a.flatten()#返回一维数组</span><br><span class="line">print(a1)</span><br><span class="line"></span><br><span class="line">a[1][1]=100</span><br><span class="line">print(a)</span><br><span class="line">print(a1)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[[1 2 3]</span><br><span class="line"> [4 5 6]</span><br><span class="line"> [7 8 9]]</span><br><span class="line">[1 2 3 4 5 6 7 8 9]</span><br><span class="line">[[  1   2   3]</span><br><span class="line"> [  4 100   6]</span><br><span class="line"> [  7   8   9]]</span><br><span class="line">[1 2 3 4 5 6 7 8 9]</span><br></pre></td></tr></table></figure>

<h3 id="9-4ravel"><a href="#9-4ravel" class="headerlink" title="9.4ravel"></a>9.4ravel</h3><p>用于将多维数组转换为一维数组。与 flatten() 不同，ravel() 返回的是原数组的一个视图（view），而不是副本。因此，对返回的数组进行修改会影响原数组。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a=np.arange(1,10).reshape(3,3)</span><br><span class="line">a1=a.ravel()</span><br><span class="line">print(a)</span><br><span class="line">print(a1)</span><br><span class="line"></span><br><span class="line">a[1][1]=100</span><br><span class="line">print(a)</span><br><span class="line">print(a1)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[[1 2 3]</span><br><span class="line"> [4 5 6]</span><br><span class="line"> [7 8 9]]</span><br><span class="line">[1 2 3 4 5 6 7 8 9]</span><br><span class="line">[[  1   2   3]</span><br><span class="line"> [  4 100   6]</span><br><span class="line"> [  7   8   9]]</span><br><span class="line">[  1   2   3   4 100   6   7   8   9]</span><br></pre></td></tr></table></figure>

<h3 id="9-5数组转置"><a href="#9-5数组转置" class="headerlink" title="9.5数组转置"></a>9.5数组转置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=np.arange(1,11).reshape(2,5)</span><br><span class="line">print(a)</span><br><span class="line">print(a.transpose())</span><br><span class="line">print(a.T)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[[ 1  2  3  4  5]</span><br><span class="line"> [ 6  7  8  9 10]]</span><br><span class="line">[[ 1  6]</span><br><span class="line"> [ 2  7]</span><br><span class="line"> [ 3  8]</span><br><span class="line"> [ 4  9]</span><br><span class="line"> [ 5 10]]</span><br><span class="line">[[ 1  6]</span><br><span class="line"> [ 2  7]</span><br><span class="line"> [ 3  8]</span><br><span class="line"> [ 4  9]</span><br><span class="line"> [ 5 10]]</span><br></pre></td></tr></table></figure>

<h3 id="9-5升维降维"><a href="#9-5升维降维" class="headerlink" title="9.5升维降维"></a>9.5升维降维</h3><table>
<thead>
<tr>
<th align="center">函数名称</th>
<th align="left">参数</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">expand_dims(arr, axis)</td>
<td align="left">arr：输入数组<br>axis：新轴插入的位置</td>
<td align="center">在指定位置插入新的轴(<strong>相对于结果数组而言</strong>)，从而扩展数组的维度</td>
</tr>
<tr>
<td align="center">squeeze(arr, axis)</td>
<td align="left">arr：输入数的组<br>axis：取值为整数或整数元组，用于指定需要删除的维度所在轴，指定的维度值必须为 1 ，否则将会报错，若为 None，则删除数组维度中所有为 1 的项</td>
<td align="center">删除数组中维度为 1 的项</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line"># 创建一个一维数组</span><br><span class="line">a = np.array([1, 2, 3])</span><br><span class="line">print(a.shape)  # 输出: (3,)</span><br><span class="line"></span><br><span class="line"># 在第 0 维插入新维度</span><br><span class="line">b = np.expand_dims(a, axis=0)#在行上增加新维度</span><br><span class="line">print(b)</span><br><span class="line"># 输出:</span><br><span class="line"># [[1 2 3]]</span><br><span class="line">print(b.shape)  # 输出: (1, 3)</span><br><span class="line"></span><br><span class="line"># 在第 1 维插入新维度</span><br><span class="line">c = np.expand_dims(a, axis=1)#在列上增加新维度</span><br><span class="line">print(c)</span><br><span class="line"># 输出:</span><br><span class="line"># [[1]</span><br><span class="line">#  [2]</span><br><span class="line">#  [3]]</span><br><span class="line">print(c.shape)  # 输出: (3, 1)</span><br><span class="line"></span><br><span class="line">print(np.squeeze(c,1))</span><br><span class="line">print(np.squeeze(b,0))</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(3,)</span><br><span class="line">[[1 2 3]]</span><br><span class="line">(1, 3)</span><br><span class="line">[[1]</span><br><span class="line"> [2]</span><br><span class="line"> [3]]</span><br><span class="line">(3, 1)</span><br><span class="line">[1 2 3]</span><br><span class="line">[1 2 3]</span><br></pre></td></tr></table></figure>

<h4 id="9-5-1expand-dims-arr-axis"><a href="#9-5-1expand-dims-arr-axis" class="headerlink" title="9.5.1expand_dims(arr, axis)"></a>9.5.1expand_dims(arr, axis)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">a=np.array([1,2,3])</span><br><span class="line">b=2</span><br><span class="line">#对a按行升维</span><br><span class="line">c=np.expand_dims(a,axis=0)</span><br><span class="line">print(c)</span><br><span class="line"></span><br><span class="line">print(c+b)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[[1 2 3]]</span><br><span class="line">[[3 4 5]]</span><br></pre></td></tr></table></figure>



<h4 id="9-5-2squeeze-arr-axis"><a href="#9-5-2squeeze-arr-axis" class="headerlink" title="9.5.2squeeze(arr, axis)"></a>9.5.2squeeze(arr, axis)</h4><ul>
<li>squeeze(arr,axis):根据指定的轴进行降维</li>
<li>降维前提：所在轴上的维度数必须为1，才能做降维操作</li>
<li>axis：按照轴方向进行降维，0-按最外层降维，1-第二层降维，以此类推</li>
<li>降维前提：所在轴上的维度数必须为1，才能做降维操作</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#假设数组是二维数组</span><br><span class="line"># axis=0，按行降维</span><br><span class="line"># axis=1，按列降维</span><br><span class="line">#axis=None或不指定，则对所有维度数为1的项降维</span><br><span class="line">a=np.array([[[1 ,2,3]]])</span><br><span class="line">print(a.shape)</span><br><span class="line"></span><br><span class="line">#第一层降维</span><br><span class="line">a1=np.squeeze(a,axis=0)#按最外层降维</span><br><span class="line">print(a1.shape)</span><br><span class="line">print(a1)                       </span><br><span class="line">           </span><br><span class="line">#按第二层降维            </span><br><span class="line">a2=np.squeeze(a,axis=1)</span><br><span class="line">print(a2.shape)</span><br><span class="line">print(a2)</span><br><span class="line"></span><br><span class="line">#按第三层降维：第三层维度不为1，第三层维度为3</span><br><span class="line">#ValueError: cannot select an axis to squeeze out which has size not equal to one</span><br><span class="line"># a3=np.squeeze(a,axis=2)</span><br><span class="line"># print(a3.shape)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(1, 1, 3)</span><br><span class="line">(1, 3)</span><br><span class="line">[[1 2 3]]</span><br><span class="line">(1, 3)</span><br><span class="line">[[1 2 3]]</span><br></pre></td></tr></table></figure>

<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a=np.array([[[1 ,2,3]],[[1,2,3]]])</span><br><span class="line">print(a.shape)</span><br><span class="line"></span><br><span class="line"># a1=np.squeeze(a,axis=0)#最内层维度为2</span><br><span class="line"># print(a1.shape)</span><br><span class="line"></span><br><span class="line">a2== np.squeeze(a,axis=1)#中间层维度为1</span><br><span class="line">print(a2.shape)</span><br><span class="line"></span><br><span class="line"># a3=np.squeeze(a,axis=2)#最外层维度为3</span><br><span class="line"># print(a3.shape)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(2, 1, 3)</span><br><span class="line">(1, 3)</span><br></pre></td></tr></table></figure>

<h3 id="9-6连接数组"><a href="#9-6连接数组" class="headerlink" title="9.6连接数组"></a>9.6连接数组</h3><ul>
<li>hsatck:水平拼接，行数要一致</li>
<li>vstack:垂直拼接，列数要一致</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import numpy as np</span><br><span class="line">a=np.arange(9).reshape(3,3)</span><br><span class="line">b=np.array([[1,2,3]])</span><br><span class="line"></span><br><span class="line">print(np.vstack((a,b)))</span><br><span class="line"># print(np.hstack((a,b)))#a维度为形状为(3,3)，b形状为（1,3），所以报错,只能够进行垂直拼接</span><br><span class="line"></span><br><span class="line">a1=np.array([[1],[2],[3]])</span><br><span class="line">print(a.shape)</span><br><span class="line">print(np.hstack((a,a1)))#行数相同</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[[0 1 2]</span><br><span class="line"> [3 4 5]</span><br><span class="line"> [6 7 8]</span><br><span class="line"> [1 2 3]]</span><br><span class="line">(3, 3)</span><br><span class="line">[[0 1 2 1]</span><br><span class="line"> [3 4 5 2]</span><br><span class="line"> [6 7 8 3]]</span><br></pre></td></tr></table></figure>

<p>9.7切割数组</p>
<ul>
<li>hsplit:按水平方向分割为多个字数组,按列</li>
<li>vsplit:按垂直方向分割为多个字数组,按行</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">a=np.arange(9).reshape(3,3)</span><br><span class="line">result=np.hsplit(a,3)#3个数组,返回了一个列表</span><br><span class="line">print(result)</span><br><span class="line">print(result[0])</span><br><span class="line"></span><br><span class="line">result=np.vsplit(a,3)#3个数组,返回了一个列表</span><br><span class="line">print(result)</span><br><span class="line">print(result[0])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a=np.arange(16).reshape(4,4)</span><br><span class="line">print(np.hsplit(a,2))</span><br><span class="line">print(np.vsplit(a,2))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[array([[0],</span><br><span class="line">       [3],</span><br><span class="line">       [6]]), array([[1],</span><br><span class="line">       [4],</span><br><span class="line">       [7]]), array([[2],</span><br><span class="line">       [5],</span><br><span class="line">       [8]])]</span><br><span class="line">[[0]</span><br><span class="line"> [3]</span><br><span class="line"> [6]]</span><br><span class="line">[array([[0, 1, 2]]), array([[3, 4, 5]]), array([[6, 7, 8]])]</span><br><span class="line">[[0 1 2]]</span><br><span class="line">[array([[ 0,  1],</span><br><span class="line">       [ 4,  5],</span><br><span class="line">       [ 8,  9],</span><br><span class="line">       [12, 13]]), array([[ 2,  3],</span><br><span class="line">       [ 6,  7],</span><br><span class="line">       [10, 11],</span><br><span class="line">       [14, 15]])]</span><br><span class="line">[array([[0, 1, 2, 3],</span><br><span class="line">       [4, 5, 6, 7]]), array([[ 8,  9, 10, 11],</span><br><span class="line">       [12, 13, 14, 15]])]</span><br></pre></td></tr></table></figure>

<h3 id="9-7矩阵运算"><a href="#9-7矩阵运算" class="headerlink" title="9.7矩阵运算"></a>9.7矩阵运算</h3><h4 id="9-7-1np-dot"><a href="#9-7-1np-dot" class="headerlink" title="9.7.1np.dot"></a>9.7.1np.dot</h4><p>是一个通用的点积函数，适用于多种维度的数组。</p>
<p>- 对于二维数组（矩阵），<code>np.dot</code> 等价于矩阵乘法。</p>
<p>- 对于一维数组（向量），<code>np.dot</code> 计算的是向量的点积（内积）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">a = np.array([[1, 2], [3, 4]])</span><br><span class="line">b = np.array([[5, 6], [7, 8]])</span><br><span class="line"></span><br><span class="line">result = np.dot(a, b)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>

<h4 id="9-7-2np-matmul"><a href="#9-7-2np-matmul" class="headerlink" title="9.7.2np.matmul"></a>9.7.2np.matmul</h4><p>是专门用于矩阵乘法的函数，适用于二维及更高维度的数组。</p>
<p><strong>案例</strong>：矩阵相乘</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[1, 2], [3, 4]])</span><br><span class="line">b = np.array([[5, 6], [7, 8]])</span><br><span class="line"></span><br><span class="line">result = np.matmul(a, b)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>

<h4 id="9-7-3np-linalg-det"><a href="#9-7-3np-linalg-det" class="headerlink" title="9.7.3np.linalg.det"></a>9.7.3np.linalg.det</h4><p>计算行列式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[1, 2], [3, 4]],dtype=int)</span><br><span class="line"># 计算行列式</span><br><span class="line">det_a = np.linalg.det(a)</span><br><span class="line">print(det_a)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="10-数组元素的在呢格栅改查"><a href="#10-数组元素的在呢格栅改查" class="headerlink" title="10.数组元素的在呢格栅改查"></a>10.数组元素的在呢格栅改查</h2><h3 id="10-1resize-函数"><a href="#10-1resize-函数" class="headerlink" title="10.1resize() 函数"></a>10.1resize() 函数</h3><p>与reshape()函数和shape()函数的区别：</p>
<p>- resize()函数是修改原数组的形状可以任意修改，而reshape()函数是返回一个修改后的数组，而shape()函数是返回数组的形状。</p>
<p>- resizeO:修改数组形状</p>
<p>不受原数组个数限制，在修改新形状的时候，如果原数组元索个数不够，则重复通历原数组元索进行填充</p>
<p>如果原数组元素个数大于新数组的元素个数，则丢弃</p>
<table>
<thead>
<tr>
<th align="center">函数名称</th>
<th align="left">参数</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">resize(a, new_shape)</td>
<td align="left">a：操作的数组<br>new_shape：返回的数组的形状，如果元素数量不够，重复数组元素来填充新的形状</td>
<td align="center">返回指定形状的新数组</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a=np.arange(1,7).reshape(2,3)</span><br><span class="line">print(a)</span><br><span class="line">print(np.resize(a,(3,3)))#不足的部分会通过复制原数组的值来填充</span><br><span class="line"></span><br><span class="line">print(np.resize(a,(2,2)))#超过部分会按照原数组的顺序依次删除</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[[1 2 3]</span><br><span class="line"> [4 5 6]]</span><br><span class="line">[[1 2 3]</span><br><span class="line"> [4 5 6]</span><br><span class="line"> [1 2 3]]</span><br><span class="line">[[1 2]</span><br><span class="line"> [3 4]]</span><br></pre></td></tr></table></figure>

<h3 id="10-2append函数"><a href="#10-2append函数" class="headerlink" title="10.2append函数"></a>10.2append函数</h3><table>
<thead>
<tr>
<th align="center">函数名称</th>
<th align="left">参数</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">append(arr, values, axis&#x3D;None)</td>
<td align="left">arr：输入的数组<br>values：向 arr 数组中添加的值，需要和 arr 数组的形状保持一致<br>axis：默认为 None，返回的是一维数组；当 axis &#x3D;0 时，追加的值会被添加到行，而列数保持不变，若 axis&#x3D;1 则与其恰好相反</td>
<td align="center">在数组的末尾添加值，返回一个一维数组</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a=np.array([[1,2,3],[4,5,6]])</span><br><span class="line">print(a.shape)</span><br><span class="line">print(a)</span><br><span class="line">b=np.append(a,[[1,1,1]],axis=0)#按行添加，shape是(1,3),添加的数组列数要与原数组相同</span><br><span class="line">print(b.shape)</span><br><span class="line">print(b)</span><br><span class="line"></span><br><span class="line">c=np.append(b,[[1,2],[1,2],[1,2]],axis=1)#按列添加，shape是(3,2)，添加的数组行数要与原数组相同</span><br><span class="line">print(c.shape)</span><br><span class="line">print(c)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">(2, 3)</span><br><span class="line">[[1 2 3]</span><br><span class="line"> [4 5 6]]</span><br><span class="line">(3, 3)</span><br><span class="line">[[1 2 3]</span><br><span class="line"> [4 5 6]</span><br><span class="line"> [1 1 1]]</span><br><span class="line">(3, 5)</span><br><span class="line">[[1 2 3 1 2]</span><br><span class="line"> [4 5 6 1 2]</span><br><span class="line"> [1 1 1 1 2]]</span><br></pre></td></tr></table></figure>

<h3 id="10-3insert函数"><a href="#10-3insert函数" class="headerlink" title="10.3insert函数"></a>10.3insert函数</h3><p>指定位置插入</p>
<table>
<thead>
<tr>
<th align="center">函数名称</th>
<th align="left">参数</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">insert(arr, obj, values, axis)</td>
<td align="left">arr：输入的数组<br>obj：表示索引值，在该索引值之前插入 values 值<br>values：要插入的值<br>axis：默认为 None，返回的是一维数组；当 axis &#x3D;0 时，追加的值会被添加到行，而列数保持不变，若 axis&#x3D;1 则与其恰好相反</td>
<td align="center">沿规定的轴将元素值插入到指定的元素前</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a=np.array([[1,2,3],[4,5,6]])</span><br><span class="line">b=np.insert(a,2,6,axis=0)</span><br><span class="line">print(b)</span><br><span class="line"></span><br><span class="line">c=np.insert(a,3,6,axis=1)</span><br><span class="line">print(c)</span><br><span class="line"></span><br><span class="line">print(a[0:2,0])</span><br><span class="line">print(len(a[1,0:3]))</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[[1 2 3]</span><br><span class="line"> [4 5 6]</span><br><span class="line"> [6 6 6]]</span><br><span class="line">[[1 2 3 6]</span><br><span class="line"> [4 5 6 6]]</span><br><span class="line">[1 4]</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<h3 id="10-4-delete"><a href="#10-4-delete" class="headerlink" title="10.4 delete"></a>10.4 delete</h3><table>
<thead>
<tr>
<th align="center">函数名称</th>
<th align="left">参数</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">delete(arr, obj, axis)</td>
<td align="left">arr：输入的数组<br>obj：表示索引值，要删除数据的索引<br>axis：默认为 None，返回的是一维数组；当 axis &#x3D;0 时，删除指定的行，若 axis&#x3D;1 则与其恰好相反</td>
<td align="center">删掉某个轴上的子数组，并返回删除后的新数组</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line"># 创建一个 NumPy 数组</span><br><span class="line">arr = np.array([1, 2, 3, 4, 5, 6])</span><br><span class="line"></span><br><span class="line"># 删除索引为 2 和 4 的元素</span><br><span class="line">new_arr = np.delete(arr, [2, 4])</span><br><span class="line"></span><br><span class="line">print(new_arr)#输出：[1 2 4 5]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1 2 4 6]</span><br></pre></td></tr></table></figure>

<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np </span><br><span class="line">a=np.array([[1,2,3],[4,5,6]])</span><br><span class="line">b=np.delete(a,0,None)#化为一列数组然后进行删除，axis=None返回一维数组</span><br><span class="line">print(b)</span><br><span class="line">b=np.delete(a,0,1)#按行删除</span><br><span class="line">print(b)</span><br><span class="line">b=np.delete(a,0,0)#按列删除</span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[2 3 4 5 6]</span><br><span class="line">[[2 3]</span><br><span class="line"> [5 6]]</span><br><span class="line">[[4 5 6]]</span><br></pre></td></tr></table></figure>

<h3 id="10-5argwhere"><a href="#10-5argwhere" class="headerlink" title="10.5argwhere"></a>10.5argwhere</h3><p>返回数组中非0元素的索引，若是多维数组则返回行、列索引组成的 <em><strong>*索引坐标*</strong></em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a=np.arange(6).reshape(2,3)</span><br><span class="line">print(a)</span><br><span class="line">print(np.argwhere(a))#默认条件返回不为0的数的索引</span><br><span class="line"></span><br><span class="line">print(np.argwhere(a&gt;-1))#可以更改默认条件，返回满足条件的数的索引</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[[0 1 2]</span><br><span class="line"> [3 4 5]]</span><br><span class="line">[[0 1]</span><br><span class="line"> [0 2]</span><br><span class="line"> [1 0]</span><br><span class="line"> [1 1]</span><br><span class="line"> [1 2]]</span><br><span class="line">[[0 0]</span><br><span class="line"> [0 1]</span><br><span class="line"> [0 2]</span><br><span class="line"> [1 0]</span><br><span class="line"> [1 1]</span><br><span class="line"> [1 2]]</span><br></pre></td></tr></table></figure>

<h3 id="10-6argmax"><a href="#10-6argmax" class="headerlink" title="10.6argmax"></a>10.6argmax</h3><p>获取列表中最大值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a=np.array([[1,2,3,6,5,6]])</span><br><span class="line">print(np.argmax(a))#返回值是索引</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3</span><br></pre></td></tr></table></figure>

<p>10.7where</p>
<p>默认返回非零元素对应的索引下表，返回的结果是元组，元组中元素是行索引下表数组和列索引下标数组</p>
<p>与argwhere也可以用布尔索引改变原默认条件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a=np.arange(6).reshape(2,3)</span><br><span class="line">print(np.where(a))#返回非零元素的索引</span><br></pre></td></tr></table></figure>

<h3 id="10-7unique"><a href="#10-7unique" class="headerlink" title="10.7unique"></a>10.7unique</h3><p>unique:去重</p>
<ul>
<li>参数：</li>
<li>return_index：如果为True，返回新数组元素在原数组中的位置（索引l）</li>
<li>return_inverse：如果为True，返回原数组元素在新数组的位置（逆索引）</li>
<li>return_counts:如果为True，返回新数组元素在原数组中出现的次数</li>
<li>axis:轴方向</li>
</ul>
<table>
<thead>
<tr>
<th align="center">函数名称</th>
<th align="left">参数</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">unique(ar, return_index&#x3D;False, return_inverse&#x3D;False,  return_counts&#x3D;False, axis&#x3D;None)</td>
<td align="left">ar：输入的数组<br>return_index：如果为 True，则返回新数组元素在原数组中的位置（索引）<br>return_inverse：如果为 True，则返回原数组元素在新数组中的位置（逆索引）<br>return_counts：如果为 True，则返回去重后的数组元素在原数组中出现的次数</td>
<td align="center">删掉某个轴上的子数组，并返回删除后的新数组</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a=np.array([1,2,2,3,4,3,5,6,5,7,5,8,9,6,10])</span><br><span class="line">print(np.unique(a))</span><br><span class="line"></span><br><span class="line">b,idx=np.unique(a,return_index=True)#在原数组的索引</span><br><span class="line">print(b,idx)</span><br><span class="line"></span><br><span class="line">b,inv_idx=np.unique(a,return_inverse=True)#返回原数组的元素在新数组的索引</span><br><span class="line">print(b,inv_idx)</span><br><span class="line"></span><br><span class="line">b,count=np.unique(a,return_counts=True)</span><br><span class="line">print(b,count)#返回新数组的元素在原数组出现的次数</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[ 1  2  3  4  5  6  7  8  9 10]</span><br><span class="line">[ 1  2  3  4  5  6  7  8  9 10] [ 0  1  3  4  6  7  9 11 12 14]</span><br><span class="line">[ 1  2  3  4  5  6  7  8  9 10] [0 1 1 2 3 2 4 5 4 6 4 7 8 5 9]</span><br><span class="line">[ 1  2  3  4  5  6  7  8  9 10] [1 2 2 1 3 2 1 1 1 1]</span><br></pre></td></tr></table></figure>



<h2 id="11-统计函数"><a href="#11-统计函数" class="headerlink" title="11.统计函数"></a>11.统计函数</h2><h3 id="11-1amin-和amin"><a href="#11-1amin-和amin" class="headerlink" title="11.1amin()和amin()"></a>11.1amin()和amin()</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a=np.arange(36).reshape(6,6)</span><br><span class="line">print(a)</span><br><span class="line">print(np.amin(a,axis=0))#按列找最小值</span><br><span class="line"></span><br><span class="line">print(np.amin(a,axis=1))#按行找最小值</span><br><span class="line"></span><br><span class="line">print(np.amax(a,axis=0))#按列找最大值</span><br><span class="line"></span><br><span class="line">print(np.amax(a,axis=1))#按行找最大值</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[[ 0  1  2  3  4  5]</span><br><span class="line"> [ 6  7  8  9 10 11]</span><br><span class="line"> [12 13 14 15 16 17]</span><br><span class="line"> [18 19 20 21 22 23]</span><br><span class="line"> [24 25 26 27 28 29]</span><br><span class="line"> [30 31 32 33 34 35]]</span><br><span class="line">[0 1 2 3 4 5]</span><br><span class="line">[ 0  6 12 18 24 30]</span><br><span class="line">[30 31 32 33 34 35]</span><br><span class="line">[ 5 11 17 23 29 35]</span><br></pre></td></tr></table></figure>

<h3 id="11-2ptp函数"><a href="#11-2ptp函数" class="headerlink" title="11.2ptp函数"></a>11.2ptp函数</h3><p>找到数组中最大值和最小值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">a=np.random.randint(0,10,(5,5))</span><br><span class="line">import numpy as np</span><br><span class="line">a1=a</span><br><span class="line">print(a1)</span><br><span class="line">b=np.ptp(a,axis=None)#直接查找整个数组的最大值和最小值的差</span><br><span class="line">print(b)</span><br><span class="line"></span><br><span class="line">b=np.ptp(a,axis=0)#遍历每一列最小值和最大值的差</span><br><span class="line">print(b)</span><br><span class="line"></span><br><span class="line">b=np.ptp(a,axis=1)#遍历每一行最小值和最大值的差</span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[[0 3 7 6 1]</span><br><span class="line"> [7 1 9 9 8]</span><br><span class="line"> [0 4 3 3 8]</span><br><span class="line"> [0 1 0 7 7]</span><br><span class="line"> [8 6 8 0 9]]</span><br><span class="line">9</span><br><span class="line">[8 5 9 9 8]</span><br><span class="line">[7 8 8 7 9]</span><br></pre></td></tr></table></figure>

<p>11.3median()</p>
<p>取中位数的方法</p>
<p>- 数组中元素按照从小到大排列后，取数组中间的值，如果元素个数为奇数，则直接取中间的元素值，如果为偶数，则取中间两个数的平均值</p>
<p>- axis&#x3D;1，按水平方向计算，axis&#x3D;0.按垂直方向计算，axis&#x3D;None，转换一维数组然后计算</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">a=np.array ([1,2,3,4,5,6,7,8])</span><br><span class="line">print(np.median(a))</span><br><span class="line"></span><br><span class="line">b=np.arange(36).reshape(6,6)</span><br><span class="line">print(b)</span><br><span class="line">print(np.median(b,axis=0))</span><br><span class="line">print(np.median(b,axis=1))</span><br><span class="line">print(np.median(b,axis=None))</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">4.5</span><br><span class="line">[[ 0  1  2  3  4  5]</span><br><span class="line"> [ 6  7  8  9 10 11]</span><br><span class="line"> [12 13 14 15 16 17]</span><br><span class="line"> [18 19 20 21 22 23]</span><br><span class="line"> [24 25 26 27 28 29]</span><br><span class="line"> [30 31 32 33 34 35]]</span><br><span class="line">[15. 16. 17. 18. 19. 20.]</span><br><span class="line">[ 2.5  8.5 14.5 20.5 26.5 32.5]</span><br><span class="line">17.5</span><br></pre></td></tr></table></figure>

<h3 id="11-3mean"><a href="#11-3mean" class="headerlink" title="11.3mean()"></a>11.3mean()</h3><ul>
<li>计算数组的算术平均值</li>
<li>axis&#x3D;0 按列求平均值，axis&#x3D;1按行求平均值</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a=np.arange(16).reshape(4,4)</span><br><span class="line">print(a)</span><br><span class="line">print(np.mean(a))#默认为none，对所有数求平均值</span><br><span class="line">print(np.mean(a,axis=0))</span><br><span class="line">print(np.mean(a,axis=1))</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[[ 0  1  2  3]</span><br><span class="line"> [ 4  5  6  7]</span><br><span class="line"> [ 8  9 10 11]</span><br><span class="line"> [12 13 14 15]]</span><br><span class="line">7.5</span><br><span class="line">[6. 7. 8. 9.]</span><br><span class="line">[ 1.5  5.5  9.5 13.5]</span><br></pre></td></tr></table></figure>

<h3 id="11-4average-函数"><a href="#11-4average-函数" class="headerlink" title="11.4average()函数"></a>11.4average()函数</h3><ul>
<li><p>加组中所有元素乘以对应的权重之和，除以所有权重之和</p>
</li>
<li><p>如果所有权重之和为1，则表示为概率中的期望值（均值）</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">a=np.array([1,2,3,4,5,6])</span><br><span class="line">weight=[0.1,0.2,0.3,0.4,0.5,0.6]</span><br><span class="line">b=np.average(a,weights=weight)</span><br><span class="line">print(b)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">c=np.array([1,2,3,4,5,6]).reshape(2,3)</span><br><span class="line">weight_c=np.array([[0.1,0.2,0.3],[0.4,0.5,0.6]])#形状相同</span><br><span class="line">print(c)</span><br><span class="line">print(weight_c)</span><br><span class="line">print(np.average(c,weights=weight_c,axis=0))#axis=0对每一列的值进行加权</span><br><span class="line"></span><br><span class="line">print(np.average(c,weights=weight_c,axis=1))#axis=1对每一行的值进行加权</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">4.333333333333333</span><br><span class="line">[[1 2 3]</span><br><span class="line"> [4 5 6]]</span><br><span class="line">[[0.1 0.2 0.3]</span><br><span class="line"> [0.4 0.5 0.6]]</span><br><span class="line">[3.4        4.14285714 5.        ]</span><br><span class="line">[2.33333333 5.13333333]</span><br></pre></td></tr></table></figure>

<h3 id="11-5var"><a href="#11-5var" class="headerlink" title="11.5var()"></a>11.5var()</h3><p>求方差</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 创建一个数组</span><br><span class="line">arr = np.array([1, 2, 3, 4, 5])</span><br><span class="line"></span><br><span class="line"># 计算方差</span><br><span class="line">variance = np.var(arr)</span><br><span class="line"></span><br><span class="line">print(variance)</span><br><span class="line"></span><br><span class="line">#输出：2  </span><br><span class="line">#输出标准差</span><br><span class="line">print(variance ** 0.5)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2.0</span><br><span class="line">1.4142135623730951</span><br></pre></td></tr></table></figure>

<h3 id="11-6std"><a href="#11-6std" class="headerlink" title="11.6std()"></a>11.6std()</h3><ul>
<li>求标准差</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 创建一个数组</span><br><span class="line">arr = np.array([1, 2, 3, 4, 5])</span><br><span class="line"></span><br><span class="line"># 计算方差</span><br><span class="line">variance = np.std(arr)</span><br><span class="line"></span><br><span class="line">print(variance)</span><br><span class="line"></span><br><span class="line">#输出：2  </span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.4142135623730951</span><br></pre></td></tr></table></figure>

<h1 id="二、matplotlib"><a href="#二、matplotlib" class="headerlink" title="二、matplotlib"></a>二、matplotlib</h1><h2 id="1-常用api"><a href="#1-常用api" class="headerlink" title="1.常用api"></a>1.常用api</h2><h3 id="1-1-绘图类型"><a href="#1-1-绘图类型" class="headerlink" title="1.1 绘图类型"></a>1.1 绘图类型</h3><table>
<thead>
<tr>
<th align="center">函数名称</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Bar</td>
<td align="center">绘制条形图</td>
</tr>
<tr>
<td align="center">Barh</td>
<td align="center">绘制水平条形图</td>
</tr>
<tr>
<td align="center">Boxplot</td>
<td align="center">绘制箱型图</td>
</tr>
<tr>
<td align="center">Hist</td>
<td align="center">绘制直方图</td>
</tr>
<tr>
<td align="center">his2d</td>
<td align="center">绘制2D直方图</td>
</tr>
<tr>
<td align="center">Pie</td>
<td align="center">绘制饼状图</td>
</tr>
<tr>
<td align="center">Plot</td>
<td align="center">在坐标轴上画线或者标记</td>
</tr>
<tr>
<td align="center">Polar</td>
<td align="center">绘制极坐标图</td>
</tr>
<tr>
<td align="center">Scatter</td>
<td align="center">绘制x与y的散点图</td>
</tr>
<tr>
<td align="center">Stackplot</td>
<td align="center">绘制堆叠图</td>
</tr>
<tr>
<td align="center">Stem</td>
<td align="center">用来绘制二维离散数据绘制（又称为火柴图）</td>
</tr>
<tr>
<td align="center">Step</td>
<td align="center">绘制阶梯图</td>
</tr>
<tr>
<td align="center">Quiver</td>
<td align="center">绘制一个二维按箭头</td>
</tr>
</tbody></table>
<h3 id="1-2-Image-函数"><a href="#1-2-Image-函数" class="headerlink" title="1.2 Image 函数"></a>1.2 Image 函数</h3><table>
<thead>
<tr>
<th align="center">函数名称</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Imread</td>
<td align="center">从文件中读取图像的数据并形成数组</td>
</tr>
<tr>
<td align="center">Imsave</td>
<td align="center">将数组另存为图像文件</td>
</tr>
<tr>
<td align="center">Imshow</td>
<td align="center">在数轴区域内显示图像</td>
</tr>
</tbody></table>
<h3 id="1-3-Axis-函数"><a href="#1-3-Axis-函数" class="headerlink" title="1.3 Axis 函数"></a>1.3 Axis 函数</h3><table>
<thead>
<tr>
<th align="center">函数名称</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Axes</td>
<td align="center">在画布(Figure)中添加轴</td>
</tr>
<tr>
<td align="center">Text</td>
<td align="center">向轴添加文本</td>
</tr>
<tr>
<td align="center">Title</td>
<td align="center">设置当前轴的标题</td>
</tr>
<tr>
<td align="center">Xlabel</td>
<td align="center">设置x轴标签</td>
</tr>
<tr>
<td align="center">Xlim</td>
<td align="center">获取或者设置x轴区间大小</td>
</tr>
<tr>
<td align="center">Xscale</td>
<td align="center">设置x轴缩放比例</td>
</tr>
<tr>
<td align="center">Xticks</td>
<td align="center">获取或设置x轴刻标和相应标签</td>
</tr>
<tr>
<td align="center">Ylabel</td>
<td align="center">设置y轴的标签</td>
</tr>
<tr>
<td align="center">Ylim</td>
<td align="center">获取或设置y轴的区间大小</td>
</tr>
<tr>
<td align="center">Yscale</td>
<td align="center">设置y轴的缩放比例</td>
</tr>
<tr>
<td align="center">Yticks</td>
<td align="center">获取或设置y轴的刻标和相应标签</td>
</tr>
</tbody></table>
<h3 id="1-4-Figure-函数"><a href="#1-4-Figure-函数" class="headerlink" title="1.4 Figure 函数"></a>1.4 Figure 函数</h3><table>
<thead>
<tr>
<th align="center">函数名称</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Figtext</td>
<td align="center">在画布上添加文本</td>
</tr>
<tr>
<td align="center">Figure</td>
<td align="center">创建一个新画布</td>
</tr>
<tr>
<td align="center">Show</td>
<td align="center">显示数字</td>
</tr>
<tr>
<td align="center">Savefig</td>
<td align="center">保存当前画布</td>
</tr>
<tr>
<td align="center">Close</td>
<td align="center">关闭画布窗口</td>
</tr>
</tbody></table>
<h2 id="2-常用函数"><a href="#2-常用函数" class="headerlink" title="2.常用函数"></a>2.常用函数</h2><p>pylab.plot 是一个用于绘制二维图形的函数。它可以根据提供的 x 和 y 数据点绘制线条和&#x2F;或标记。</p>
<p><strong>语法</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pylab.plot(x, y, format_string=None, **kwargs)</span><br></pre></td></tr></table></figure>

<p><strong>参数</strong>：</p>
<ul>
<li>x: x 轴数据，可以是一个数组或列表。</li>
<li>y: y 轴数据，可以是一个数组或列表。</li>
<li>format_string: 格式字符串，用于指定线条样式、颜色等。</li>
<li>**kwargs: 其他关键字参数，用于指定线条的属性。</li>
</ul>
<p>plot 函数可以接受一个或两个数组作为参数，分别代表 x 和 y 坐标。如果你只提供一个数组，它将默认用作 y 坐标，而 x 坐标将默认为数组的索引。</p>
<p><strong>格式字符串</strong>：</p>
<p>格式字符串由颜色、标记和线条样式组成。例如：</p>
<p>颜色：</p>
<p>‘b’：蓝色 ‘g’：绿色 ‘r’：红色 ‘c’：青色 ‘m’：洋红色 ‘y’：黄色 ‘k’：黑色 ‘w’：白色</p>
<p>标记：</p>
<p>‘.’：点标记   </p>
<p>‘,’：像素标记   </p>
<p>‘o’：圆圈标记   </p>
<p>‘v’：向下三角标记   </p>
<p>‘^’：向上三角标记  </p>
<p> ‘&lt;’：向左三角标记   </p>
<p>‘&gt;’：向右三角标记   </p>
<p>‘s’：方形标记 </p>
<p>‘p’：五边形标记  </p>
<p> ‘*’：星形标记 </p>
<p>‘h’：六边形标记1 </p>
<p> ‘H’：六边形标记2 </p>
<p>‘+’：加号标记 </p>
<p>‘x’：叉号标记 </p>
<p>‘D’：菱形标记</p>
<p> ‘d’：细菱形标记 </p>
<p>‘|’：竖线标记 </p>
<p>‘_’：横线标记</p>
<p>线条样式：</p>
<p>‘-‘：实线 ‘–’：虚线 ‘-.’：点划线 ‘:’：点线</p>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">a=np.array([1,2,3,4,5,6,7,8,9,10])</span><br><span class="line">b=np.array([1,2,3,4,5,6,7,8,9,10])</span><br><span class="line"></span><br><span class="line">plt.plot(a,a**3,&#x27;o&#x27;,color=&#x27;red&#x27;)</span><br><span class="line">plt.plot(b,b,&#x27;&gt;&#x27;,color=&#x27;blue&#x27;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p>输出：</p>


<h3 id="2-1figure函数"><a href="#2-1figure函数" class="headerlink" title="2.1figure函数"></a>2.1figure函数</h3><p>创建画布</p>
<p>四种创建方法</p>
<h4 id="2-1-1直接绘制"><a href="#2-1-1直接绘制" class="headerlink" title="2.1.1直接绘制"></a>2.1.1直接绘制</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line">def test1():#直接绘制</span><br><span class="line">            c=np.linspace(-10,10,1000)</span><br><span class="line">            y1=c**2</span><br><span class="line">            Y2=np.sin(c)</span><br><span class="line">            plt.figure()</span><br><span class="line">            &quot;&quot;&quot; - figsize：指定画布的大小，(宽度,高度)，单位为英寸</span><br><span class="line">                - dpi：指定绘图对象的分辨率，即每英寸多少个像素，默认值为80</span><br><span class="line">                - facecolor：背景颜色</span><br><span class="line">                - dgecolor：边框颜色</span><br><span class="line">                - frameon：是否显示边框 &quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            plt.plot(c,y1,&#x27;.&#x27;,color=&#x27;red&#x27;)</span><br><span class="line">            plt.plot(c,Y2,&#x27;.&#x27;,color=&#x27;blue&#x27;)</span><br><span class="line">            plt.xlabel(&#x27;自变量&#x27;)</span><br><span class="line">            plt.ylabel(&#x27;因变量&#x27;)</span><br><span class="line">            plt.grid()</span><br><span class="line">            plt.show()</span><br></pre></td></tr></table></figure>

<p>输出：：</p>


<h4 id="2-1-2通过创建一个自定义画布"><a href="#2-1-2通过创建一个自定义画布" class="headerlink" title="2.1.2通过创建一个自定义画布"></a>2.1.2通过创建一个自定义画布</h4><p>在通过figure创建自定义画布中的自定义区域，在通过画布来调用plot方法上进行绘制</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">def test2():#创建一个自定义画布，在通过figure创建自定义画布中的自定义区域，在通过画布来调用plot方法上进行绘制</span><br><span class="line">            x=np.linspace(-10,10,1000)  </span><br><span class="line">            y1=np.sin(x)</span><br><span class="line">            y2=np.cos(x)  </span><br><span class="line">            #创建画布</span><br><span class="line">            fig=plt.figure(figsize=(8,6))  </span><br><span class="line">            #创建绘制区域[左，下，宽，高]取值范围（0,1）</span><br><span class="line">            ax=fig.add_axes([0.1,0.1,0.8,0.8])</span><br><span class="line">            ax.plot(x,y1,&#x27;r-&#x27;,label=&#x27;sin&#x27;)</span><br><span class="line">            ax.plot(x,y2,&#x27;b-&#x27;,label=&#x27;cos&#x27;)</span><br><span class="line">            ax.legend()</span><br><span class="line">            plt.show()</span><br></pre></td></tr></table></figure>

<p>输出：</p>


<h4 id="2-1-3创建一个分区画布"><a href="#2-1-3创建一个分区画布" class="headerlink" title="2.1.3创建一个分区画布"></a>2.1.3创建一个分区画布</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">def test4():#创建一个分区画布</span><br><span class="line">            x=np.linspace(-10,10,100)</span><br><span class="line">            y1=np.sin(x)</span><br><span class="line">            y2=np.cos(x)</span><br><span class="line">            y3=np.tan(x)</span><br><span class="line">            #subplots创建多个绘图区域</span><br><span class="line">            fig,axs=plt.subplots(1,3,figsize=(18,6))</span><br><span class="line">            axs[0].plot(x,y1,&#x27;r&#x27;,label=&#x27;sin&#x27;)</span><br><span class="line">            axs[0].legend()</span><br><span class="line">            axs[1].plot(x,y2,&#x27;y&#x27;,label=&#x27;cos&#x27;)</span><br><span class="line">            axs[1].legend()</span><br><span class="line">            axs[2].plot(x,y3,label=&#x27;tan&#x27;)</span><br><span class="line">            axs[2].legend()</span><br><span class="line">            plt.show()</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#不同写法相同的效果图</span><br><span class="line">def test3():#创建一个分区画布</span><br><span class="line">            x=np.linspace(-10,10,100)</span><br><span class="line">            y1=np.sin(x)</span><br><span class="line">            y2=np.cos(x)</span><br><span class="line">            t3=np.tan(x)</span><br><span class="line">            fig =plt.figure(figsize=(18,6))</span><br><span class="line">            #创建分区画布(row col,index)</span><br><span class="line">            #row: 行数，col:列数，index:第几个子图</span><br><span class="line">            ax1=fig.add_subplot(1,3,1)</span><br><span class="line">            ax1.plot(x,y1,&#x27;r&#x27;,label=&#x27;sin&#x27;)</span><br><span class="line">            ax1.legend()</span><br><span class="line">            ax1.set_title(&#x27;sin&#x27;)</span><br><span class="line">            ax2=fig.add_subplot(1,3,2)</span><br><span class="line">            ax2.plot(x,y2,&#x27;y&#x27;,label=&#x27;cos&#x27;)</span><br><span class="line">            ax2.set_title(&#x27;cos&#x27;)</span><br><span class="line">            ax3=fig.add_subplot(1,3,3)</span><br><span class="line">            ax3.plot(x,t3,label=&#x27;tan&#x27;)</span><br><span class="line">            ax3.set_title(&#x27;tan&#x27;)</span><br><span class="line">            plt.show()</span><br></pre></td></tr></table></figure>

<p>输出：</p>


<h4 id="2-1-4创建一个画布用索引进行绘制"><a href="#2-1-4创建一个画布用索引进行绘制" class="headerlink" title="2.1.4创建一个画布用索引进行绘制"></a>2.1.4创建一个画布用索引进行绘制</h4><p> subplots创建多个绘图区域，子图区域不能超过数组下标</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">def test5():#创建一个分区画布</span><br><span class="line">            x=np.linspace(-10,10,100)</span><br><span class="line">            y1=np.sin(x)</span><br><span class="line">            y2=np.cos(x)</span><br><span class="line">            y3=np.tan(x)</span><br><span class="line">            #subplots创建多个绘图区域</span><br><span class="line">            #子图区域不能超过数组下标</span><br><span class="line">            fig,axs=plt.subplots(2,3,figsize=(18,6))</span><br><span class="line">            axs[0,0].plot(x,y1,&#x27;r&#x27;,label=&#x27;sin&#x27;)</span><br><span class="line">            axs[0,0].legend()</span><br><span class="line">            axs[0,1].plot(x,y2,&#x27;y&#x27;,label=&#x27;cos&#x27;)</span><br><span class="line">            axs[0,1].legend()</span><br><span class="line">            axs[0,2].plot(x,y3,label=&#x27;tan&#x27;)</span><br><span class="line">            axs[0,2].legend()</span><br><span class="line">            axs[1,0].plot(x,y1,&#x27;r&#x27;,label=&#x27;sin&#x27;)</span><br><span class="line">            axs[1,0].legend()</span><br><span class="line">            axs[1,1].plot(x,y2,&#x27;y&#x27;,label=&#x27;cos&#x27;)</span><br><span class="line">            axs[1,1].legend()</span><br><span class="line">            axs[1,2].plot(x,y3,label=&#x27;tan&#x27;)</span><br><span class="line">            axs[1,2].legend()</span><br><span class="line">            plt.show()     </span><br><span class="line">            </span><br></pre></td></tr></table></figure>

<p>输出：</p>
   

<h2 id="3-其他图表绘制"><a href="#3-其他图表绘制" class="headerlink" title="3.其他图表绘制"></a>3.其他图表绘制</h2><h3 id="3-1柱状图"><a href="#3-1柱状图" class="headerlink" title="3.1柱状图"></a>3.1柱状图</h3><p>柱状图（Bar Chart）是一种常用的数据可视化工具，用于展示分类数据的分布情况。</p>
<p><strong>语法</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ax.bar(x, height, width=0.8, bottom=None, align=&#x27;center&#x27;, **kwargs)</span><br></pre></td></tr></table></figure>

<p><strong>参数</strong>：</p>
<ul>
<li>x: 柱状图的 X 轴位置。</li>
<li>height: 柱状图的高度。</li>
<li>width: 柱状图的宽度，默认为 0.8。</li>
<li>bottom: 柱状图的底部位置，默认为 0。</li>
<li>align: 柱状图的对齐方式，可以是 ‘center’（居中对齐）或 ‘edge’（边缘对齐）。</li>
<li>**kwargs: 其他可选参数，用于定制柱状图的外观，如 color、edgecolor、linewidth 等。</li>
</ul>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line">def bar():</span><br><span class="line">    x = [&#x27;A&#x27;,&#x27;B&#x27;,&#x27;C&#x27;,&#x27;D&#x27;]</span><br><span class="line">    y = [20,30,40,50]</span><br><span class="line">    plt.bar(x,y,width=0.5,align=&#x27;center&#x27;)</span><br><span class="line">    plt.show()</span><br><span class="line">def bar1():</span><br><span class="line">    x= [&#x27;A&#x27;,&#x27;B&#x27;,&#x27;C&#x27;,&#x27;D&#x27;]</span><br><span class="line">    y1= [20,30,40,50]</span><br><span class="line">    y2= [10,20,30,40]</span><br><span class="line">    plt.bar(x,y1,width=0.5,align=&#x27;center&#x27;,color=&#x27;red&#x27;,label=&#x27;y1&#x27;)</span><br><span class="line">    plt.bar(x,y2,width=0.5,align=&#x27;center&#x27;,color=&#x27;blue&#x27;,label=&#x27;y2&#x27;,bottom=y1)</span><br><span class="line">    plt.legend()</span><br><span class="line">    plt.show()</span><br><span class="line">def bar2():</span><br><span class="line">            # 数据</span><br><span class="line">        categories = [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;, &#x27;D&#x27;]</span><br><span class="line">        values1 = [20, 35, 30, 25]</span><br><span class="line">        values2 = [15, 25, 20, 10]</span><br><span class="line"></span><br><span class="line">        # 创建图形和子图</span><br><span class="line">        fig, ax = plt.subplots()</span><br><span class="line"></span><br><span class="line">        # 计算柱状图的位置</span><br><span class="line">        x = np.arange(len(categories))</span><br><span class="line">        width = 0.35</span><br><span class="line"></span><br><span class="line">        # 绘制第一个数据集的柱状图</span><br><span class="line">        ax.bar(x - width/2, values1, width, color=&#x27;skyblue&#x27;, label=&#x27;Values 1&#x27;)</span><br><span class="line"></span><br><span class="line">        # 绘制第二个数据集的柱状图</span><br><span class="line">        ax.bar(x + width/2, values2, width, color=&#x27;lightgreen&#x27;, label=&#x27;Values 2&#x27;)</span><br><span class="line"></span><br><span class="line">        # 设置 X 轴标签</span><br><span class="line">        ax.set_xticks(x)</span><br><span class="line">        ax.set_xticklabels(categories)</span><br><span class="line"></span><br><span class="line">        # 设置标题和标签</span><br><span class="line">        ax.set_title(&#x27;Grouped Bar Chart&#x27;)</span><br><span class="line">        ax.set_xlabel(&#x27;Categories&#x27;)</span><br><span class="line">        ax.set_ylabel(&#x27;Values&#x27;)</span><br><span class="line"></span><br><span class="line">        # 添加图例</span><br><span class="line">        ax.legend()</span><br><span class="line"></span><br><span class="line">        # 显示图形</span><br><span class="line">        plt.show()</span><br><span class="line">if __name__ == &#x27;__main__&#x27;:</span><br><span class="line">    bar()</span><br><span class="line">    bar1()</span><br><span class="line">    bar2()</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>普通柱状图bar()</td>
<td>上下对比柱状图bar2()</td>
<td>左右对比柱状图bar3()</td>
</tr>
</tbody></table>
<h3 id="3-2直方图"><a href="#3-2直方图" class="headerlink" title="3.2直方图"></a>3.2直方图</h3><p>直方图（Histogram）是一种常用的数据可视化工具，用于展示数值数据的分布情况。</p>
<p><strong>语法</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ax.hist(x, bins=None, range=None, density=False, weights=None, cumulative=False, **kwargs)</span><br></pre></td></tr></table></figure>

<p><strong>参数</strong>：</p>
<ul>
<li>x: 数据数组。</li>
<li>bins: 直方图的柱数，可以是整数或序列。</li>
<li>range: 直方图的范围，格式为 (min, max)。</li>
<li>density: 是否将直方图归一化，默认为 False。</li>
<li>weights: 每个数据点的权重。</li>
<li>cumulative: 是否绘制累积直方图，默认为 False。</li>
<li>**kwargs: 其他可选参数，用于定制直方图的外观，如 color、edgecolor、linewidth 等。</li>
</ul>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line">def hist():</span><br><span class="line">    x = np.random.randn(1000)</span><br><span class="line">    plt.hist(x, bins=100, color=&#x27;blue&#x27;, alpha=0.7)</span><br><span class="line">    plt.xlabel(&#x27;Value&#x27;)</span><br><span class="line">    plt.ylabel(&#x27;Frequency&#x27;)</span><br><span class="line">    plt.title(&#x27;Histogram of Random Numbers&#x27;)</span><br><span class="line">    plt.show()</span><br><span class="line">if __name__ == &#x27;__main__&#x27;:</span><br><span class="line">    hist()</span><br></pre></td></tr></table></figure>

<p>输出：</p>


<h3 id="3-3-饼状图"><a href="#3-3-饼状图" class="headerlink" title="3.3 饼状图"></a>3.3 饼状图</h3><p>饼图（Pie Chart）是一种常用的数据可视化工具，用于展示分类数据的占比情况。</p>
<p><strong>语法</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ax.pie(x, explode=None, labels=None, colors=None, autopct=None, shadow=False, startangle=0, **kwargs)</span><br></pre></td></tr></table></figure>

<p><strong>参数</strong>：</p>
<ul>
<li>x: 数据数组，表示每个扇区的占比。</li>
<li>explode: 一个数组，表示每个扇区偏离圆心的距离，默认为 None。</li>
<li>labels: 每个扇区的标签，默认为 None。</li>
<li>colors: 每个扇区的颜色，默认为 None。</li>
<li>autopct: 控制显示每个扇区的占比，可以是格式化字符串或函数，默认为 None。</li>
<li>shadow: 是否显示阴影，默认为 False。</li>
<li>startangle: 饼图的起始角度，默认为 0。</li>
<li>**kwargs: 其他可选参数，用于定制饼图的外观。</li>
</ul>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">def pie():</span><br><span class="line"></span><br><span class="line">    # 数据</span><br><span class="line">    labels = [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;, &#x27;D&#x27;]</span><br><span class="line">    sizes = [15, 30, 45, 10]</span><br><span class="line"></span><br><span class="line">    # 创建图形和子图</span><br><span class="line">    fig, ax = plt.subplots()</span><br><span class="line"></span><br><span class="line">    # 绘制饼图</span><br><span class="line">    ax.pie(sizes, labels=labels, autopct=&#x27;%1.1f%%&#x27;,shadow=True, startangle=90)</span><br><span class="line"></span><br><span class="line">    # 设置标题</span><br><span class="line">    ax.set_title(&#x27;Simple Pie Chart&#x27;)</span><br><span class="line"></span><br><span class="line">    # 显示图形</span><br><span class="line">    plt.show()</span><br><span class="line">if __name__ == &#x27;__main__&#x27;:</span><br><span class="line">    pie()</span><br></pre></td></tr></table></figure>

<p>输出：</p>


<h3 id="3-4散点图"><a href="#3-4散点图" class="headerlink" title="3.4散点图"></a>3.4散点图</h3><p>散点图（Scatter Plot）是一种常用的数据可视化工具，用于展示两个变量之间的关系。</p>
<p><strong>语法</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ax.scatter(x, y, s=None, c=None, marker=None, cmap=None, norm=None, vmin=None, vmax=None, alpha=None, linewidths=None, edgecolors=None, **kwargs)</span><br></pre></td></tr></table></figure>

<p><strong>参数</strong>：</p>
<ul>
<li>x: X 轴数据。</li>
<li>y: Y 轴数据。</li>
<li>s: 点的大小，可以是标量或数组。</li>
<li>c: 点的颜色，可以是标量、数组或颜色列表。</li>
<li>marker: 点的形状，默认为 ‘o’（圆圈）。</li>
<li>cmap: 颜色映射，用于将颜色映射到数据。</li>
<li>norm: 归一化对象，用于将数据映射到颜色映射。</li>
<li>vmin, vmax: 颜色映射的最小值和最大值。</li>
<li>alpha: 点的透明度，取值范围为 0 到 1。</li>
<li>linewidths: 点的边框宽度。</li>
<li>edgecolors: 点的边框颜色。</li>
<li>**kwargs: 其他可选参数，用于定制散点图的外观。</li>
</ul>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def scatter():</span><br><span class="line">    x=np.linspace(0,10,10)</span><br><span class="line">    y=np.sin(x)</span><br><span class="line">    plt.scatter(x,y,marker=&#x27;&gt;&#x27;,cmap=&#x27;rainbow&#x27;)</span><br><span class="line">    plt.show()</span><br><span class="line">if __name__==&#x27;__main__&#x27;:</span><br><span class="line">    scatter()</span><br></pre></td></tr></table></figure>

<p>输出：</p>


<h3 id="3-5其他符号说明"><a href="#3-5其他符号说明" class="headerlink" title="3.5其他符号说明"></a>3.5其他符号说明</h3><p>marker常用参数</p>
<table>
<thead>
<tr>
<th align="center">Marker</th>
<th align="center">Meaning</th>
</tr>
</thead>
<tbody><tr>
<td align="center">o</td>
<td align="center">圆圈</td>
</tr>
<tr>
<td align="center">s</td>
<td align="center">正方形</td>
</tr>
<tr>
<td align="center">D</td>
<td align="center">菱形</td>
</tr>
<tr>
<td align="center">^</td>
<td align="center">上三角形</td>
</tr>
<tr>
<td align="center">v</td>
<td align="center">下三角形</td>
</tr>
<tr>
<td align="center">&gt;</td>
<td align="center">右三角形</td>
</tr>
<tr>
<td align="center">&lt;</td>
<td align="center">左三角形</td>
</tr>
<tr>
<td align="center">p</td>
<td align="center">五边形</td>
</tr>
<tr>
<td align="center">*</td>
<td align="center">星形</td>
</tr>
<tr>
<td align="center">+</td>
<td align="center">加号</td>
</tr>
<tr>
<td align="center">x</td>
<td align="center">叉号</td>
</tr>
<tr>
<td align="center">.</td>
<td align="center">点</td>
</tr>
<tr>
<td align="center">,</td>
<td align="center">像素</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">三叉戟下</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">三叉戟上</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">三叉戟右</td>
</tr>
<tr>
<td align="center">h</td>
<td align="center">六边形1</td>
</tr>
<tr>
<td align="center">H</td>
<td align="center">六边形2</td>
</tr>
<tr>
<td align="center">d</td>
<td align="center">小菱形</td>
</tr>
<tr>
<td align="center">_</td>
<td align="center">横线</td>
</tr>
</tbody></table>
<h2 id="4-图片读取"><a href="#4-图片读取" class="headerlink" title="4.图片读取"></a>4.图片读取</h2><p>plt.imread 是 Matplotlib 库中的一个函数，用于读取图像文件并将其转换为 NumPy 数组。这个函数非常方便，可以轻松地将图像加载到 Python 中进行处理或显示。</p>
<p><strong>参数</strong></p>
<ul>
<li><code>fname</code>: 图像文件的路径（字符串）。</li>
<li><code>format</code>: 图像格式（可选）。如果未指定，<code>imread</code> 会根据文件扩展名自动推断格式。</li>
</ul>
<p><strong>返回值</strong></p>
<ul>
<li>返回一个 NumPy 数组，表示图像的像素数据。数组的形状取决于图像的格式：<ul>
<li>对于灰度图像，返回一个二维数组 <code>(height, width)</code>。</li>
<li>对于彩色图像，返回一个三维数组 <code>(height, width, channels)</code>，其中 <code>channels</code> 通常是 3（RGB）或 4（RGBA）</li>
</ul>
</li>
</ul>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line">dirpath = os.path.dirname(__file__)</span><br><span class="line">print(dirpath)</span><br><span class="line">filepath = os.path.relpath(os.path.join(dirpath, &#x27;Apple (581).jpg&#x27;))#作用是获取当前文件所在的目录</span><br><span class="line">print(filepath)</span><br><span class="line">fig,axs=plt.subplots(1,4,figsize=(18,6))</span><br><span class="line">img = plt.imread(filepath)</span><br><span class="line">#图片的维度为什么是三维的？ 因为图片的维度是RGB</span><br><span class="line">axs[0].imshow(img)</span><br><span class="line">axs[0].set_title(&quot;原图&quot;)</span><br><span class="line">img1 = np.transpose(img, (2, 0, 1))</span><br><span class="line">print(len(img1))</span><br><span class="line">i=1</span><br><span class="line">for channel in range(len(img1)):</span><br><span class="line">    axs[channel+1].imshow(img1[channel])</span><br><span class="line">    axs[channel+1].set_title(f&quot;对比图&#123;i&#125;&quot;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p>输出：</p>


<h1 id="三、pandas"><a href="#三、pandas" class="headerlink" title="三、pandas"></a>三、pandas</h1><h2 id="1-Series"><a href="#1-Series" class="headerlink" title="1.Series"></a>1.Series</h2><p>Pandas Series 类似表格中等一个列（column），类似于一维数组，可以保存任何数据类型 Series 由索引（index）和列组成，函数：</p>
<table>
<thead>
<tr>
<th align="center">函数名</th>
<th>参数</th>
</tr>
</thead>
<tbody><tr>
<td align="center">pandas.Series(data,index,dtype)</td>
<td>data：一组数据（ndarray 类型）<br>index：数据索引标签，如果不指定，默认从 0 开始<br>dtype：数据类型，默认会自己判断<br>copy：表示对 data 进行拷贝，默认为 False</td>
</tr>
</tbody></table>
<p>0、1、2 表示行索引</p>
<ul>
<li>李四、王五、张三表示数据值</li>
<li>dtype 表示数据值的类型</li>
</ul>
<h3 id="1-1创建-Series-对象的方式"><a href="#1-1创建-Series-对象的方式" class="headerlink" title="1 .1创建 Series 对象的方式"></a>1 .1创建 Series 对象的方式</h3><h4 id="1-1-1创建-Series-空对象"><a href="#1-1-1创建-Series-空对象" class="headerlink" title="1.1.1创建 Series 空对象"></a>1.1.1创建 Series 空对象</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line"></span><br><span class="line">#Series 空对象</span><br><span class="line">def one():</span><br><span class="line">    series_one = pd.Series(dtype=&#x27;f8&#x27;)</span><br><span class="line">    print(&#x27;空对象：\n&#x27;, series_one)</span><br><span class="line">one()</span><br></pre></td></tr></table></figure>

<p>输出一个空对象：</p>
<p>空对象：<br> Series([], dtype: float64)</p>
<h4 id="1-1-2创建一个一维数组"><a href="#1-1-2创建一个一维数组" class="headerlink" title="1.1.2创建一个一维数组"></a>1.1.2创建一个一维数组</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">series_one = pd.Series([1,2,3,4,5], dtype=&#x27;f8&#x27;)#参数：pf.Series(data, index, dtype, name, copy, fastpath)所有参数的中文解释是：</span><br><span class="line">                                                      # 1.data：数据，2.index：索引，3.dtype：数据类型，4.name：名称，5.copy：是否复制，6.fastpath：是否快速路径。</span><br><span class="line">print(&#x27;Series对象：\n&#x27;, series_one)</span><br><span class="line">#取一行数据：</span><br><span class="line">print(&#x27;取一行数据：\n&#x27;, series_one[0])</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Series对象：</span><br><span class="line"> 0    1.0</span><br><span class="line">1    2.0</span><br><span class="line">2    3.0</span><br><span class="line">3    4.0</span><br><span class="line">4    5.0</span><br><span class="line">dtype: float64</span><br><span class="line">取一行数据：</span><br><span class="line"> 1.0</span><br><span class="line">0    1.0</span><br><span class="line">1    2.0</span><br><span class="line">2    3.0</span><br><span class="line">3    4.0</span><br><span class="line">4    5.0</span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure>

<h3 id="1-2遍历Series"><a href="#1-2遍历Series" class="headerlink" title="1.2遍历Series"></a>1.2遍历Series</h3><h4 id="1-2-1访问标签"><a href="#1-2-1访问标签" class="headerlink" title="1.2.1访问标签"></a>1.2.1访问标签</h4><p>对象名.index</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">a=&#123;&#x27;name&#x27;:&#x27;tom&#x27;,&#x27;age&#x27;:18,&#x27;sex&#x27;:&#x27;male&#x27;&#125;</span><br><span class="line">Series1=pd.Series(a)</span><br><span class="line">print(Series1)</span><br><span class="line"></span><br><span class="line">for i in Series1.index:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">name     tom</span><br><span class="line">age       18</span><br><span class="line">sex     male</span><br><span class="line">dtype: object</span><br><span class="line">name</span><br><span class="line">age</span><br><span class="line">sex</span><br></pre></td></tr></table></figure>

<h4 id="1-2-2访问值"><a href="#1-2-2访问值" class="headerlink" title="1.2.2访问值"></a>1.2.2访问值</h4><p>将print(i)改成对象变量名[i]即可输出对应值</p>
<h3 id="1-3切片索引"><a href="#1-3切片索引" class="headerlink" title="1.3切片索引"></a>1.3切片索引</h3><p>s[‘a’]：输出标签为a的值</p>
<p>s[‘a’:’c’]：输出标签为a到c的值，两边都取</p>
<p>print(s[::-1])：跌倒列表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s=pd.Series([1,2,3,4,5,6,7,8,9,10],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;,&#x27;f&#x27;,&#x27;g&#x27;,&#x27;h&#x27;,&#x27;i&#x27;,&#x27;j&#x27;])</span><br><span class="line">print(s[&#x27;a&#x27;])#索引</span><br><span class="line">print(s[&#x27;a&#x27;:&#x27;c&#x27;])#切片</span><br><span class="line">print(s[::-1])#倒序</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">a    1</span><br><span class="line">b    2</span><br><span class="line">c    3</span><br><span class="line">dtype: int64</span><br><span class="line">j    10</span><br><span class="line">i     9</span><br><span class="line">h     8</span><br><span class="line">g     7</span><br><span class="line">f     6</span><br><span class="line">e     5</span><br><span class="line">d     4</span><br><span class="line">c     3</span><br><span class="line">b     2</span><br><span class="line">a     1</span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure>

<h2 id="2-DataFrame"><a href="#2-DataFrame" class="headerlink" title="2.DataFrame"></a>2.DataFrame</h2><ul>
<li><p>DataFrame 一个表格型的数据结构，既有行标签（index），又有列标签（columns），它也被称异构数据表，所谓异构，指的是表格中每列的数据类型可以不同，比如可以是字符串、整型或者浮点型等。其结构图示意图，如下所示：</p>
<img src="/.io//image-20241016171536818.png">
</li>
<li><p>DataFrame 的每一行或列数据都可以看成一个 Series 结构，只不过，DataFrame 为这些行中每个数据值增加了一个列或行标签</p>
</li>
<li><p>同 Series 一样，DataFrame 自带行标签索引，默认为“隐式索引”即从 0 开始依次递增，行标签与 DataFrame 中的数据项一一对应当然你也可以用“显式索引”的方式来设置行标签</p>
</li>
<li><p>DataFrame 构造方法如下：</p>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center">函数名</th>
<th>参数</th>
</tr>
</thead>
<tbody><tr>
<td align="center">pd.DataFrame( data, index, columns, dtype, copy)</td>
<td>data：一组数据（ndarray、series, map, lists, dict 等类型）<br>index：索引值，或者可以称为行标签<br>columns：列标签，默认为 RangeIndex （0, 1, 2, …, n）<br>dtype：数据类型<br>copy：默认为 False，表示复制数据 data</td>
</tr>
</tbody></table>
<p><strong>Dataframe和Series的关系：</strong></p>
<p>在 Pandas 中，<code>DataFrame</code> 的每一行或每一列都是一个 <code>Series</code>。</p>
<p><code>DataFrame</code> 是一个二维表格，可以看作是由多个 <code>Series</code> 组成的。</p>
<p><em><strong>在有数据传递需求的时候，尽量使用双引号</strong></em></p>
<h3 id="2-1创建DataFrame"><a href="#2-1创建DataFrame" class="headerlink" title="2.1创建DataFrame"></a>2.1创建DataFrame</h3><h4 id="2-1-1Series创建"><a href="#2-1-1Series创建" class="headerlink" title="2.1.1Series创建"></a>2.1.1Series创建</h4><p><em><strong>index和data需要前后匹配</strong></em></p>
<p>在某一列缺少值时会利用NAN来填补</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dict=&#123;&#x27;name&#x27;:pd.Series([&#x27;John&#x27;,&#x27;Anna&#x27;,&#x27;Peter&#x27;,&#x27;Linda&#x27;],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;]),</span><br><span class="line">      &#x27;age&#x27;:pd.Series([24,27,30,29],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;]),</span><br><span class="line">      &#x27;address&#x27;:pd.Series([&#x27;New York&#x27;,&#x27;Paris&#x27;,&#x27;Berlin&#x27;],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;])</span><br><span class="line">&#125;</span><br><span class="line">print(pd.DataFrame(dict))</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name  age   address</span><br><span class="line">a   John   24  New York</span><br><span class="line">b   Anna   27     Paris</span><br><span class="line">c  Peter   30    Berlin</span><br><span class="line">d  Linda   29       NaN</span><br></pre></td></tr></table></figure>

<h4 id="2-1-2字典创建"><a href="#2-1-2字典创建" class="headerlink" title="2.1.2字典创建"></a>2.1.2字典创建</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#也可直接写字典,但是如果不匹配上面的字典,会报错</span><br><span class="line">dict=&#123;</span><br><span class="line">    &#x27;name&#x27;:[&#x27;zhangsan&#x27;,&#x27;tom&#x27;],</span><br><span class="line">    &#x27;age&#x27;:[18,17],</span><br><span class="line">    &#x27;sex&#x27;:[&#x27;man&#x27;,&#x27;male&#x27;]</span><br><span class="line">&#125;</span><br><span class="line">print(pd.DataFrame(dict))</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name  age   sex</span><br><span class="line">0  zhangsan   18   man</span><br><span class="line">1       tom   17  male</span><br></pre></td></tr></table></figure>

<h3 id="2-2索引，调用列索引"><a href="#2-2索引，调用列索引" class="headerlink" title="2.2索引，调用列索引"></a>2.2索引，调用列索引</h3><p>如需调用整行需要依赖其他函数 df.loc()等</p>
<p>不能直接调用行索引</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df=pd.DataFrame(dict1)</span><br></pre></td></tr></table></figure>

<p>2.2.1获取一列</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">data=&#123;&#x27;one&#x27;:pd.Series([1,2,3,4,5],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;]),</span><br><span class="line">       &#x27;two&#x27;:pd.Series([6,7,8,9,10],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;]),</span><br><span class="line">       &#x27;three&#x27;:pd.Series([11,12,13,14,15],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;]),</span><br><span class="line">       &#x27;four&#x27;:pd.Series([16,17,18,19,20],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;])#行标签)</span><br><span class="line">&#125;</span><br><span class="line">df_1=pd.DataFrame(data)</span><br><span class="line">print(df_1)</span><br><span class="line">print(df_1[&#x27;one&#x27;])#获取一列</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">one  two  three  four</span><br><span class="line">a    1    6     11    16</span><br><span class="line">b    2    7     12    17</span><br><span class="line">c    3    8     13    18</span><br><span class="line">d    4    9     14    19</span><br><span class="line">e    5   10     15    20</span><br><span class="line">a    1</span><br><span class="line">b    2</span><br><span class="line">c    3</span><br><span class="line">d    4</span><br><span class="line">e    5</span><br><span class="line">Name: one, dtype: int64</span><br></pre></td></tr></table></figure>

<p>2.2.2获取某列某行的值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#承接上一个函数</span></span><br><span class="line"><span class="built_in">print</span>(df_1[<span class="string">&#x27;one&#x27;</span>][<span class="string">&#x27;b&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(df_1[<span class="string">&#x27;one&#x27;</span>][<span class="number">1</span>])</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">2</span><br></pre></td></tr></table></figure>

<h3 id="2-3修改列表"><a href="#2-3修改列表" class="headerlink" title="2.3修改列表"></a>2.3修改列表</h3><h4 id="2-3-1链式调用"><a href="#2-3-1链式调用" class="headerlink" title="2.3.1链式调用"></a>2.3.1链式调用</h4><p>assign()用法：</p>
<p>- assign()：参数是赋值语句，等号左边是要添加的列名，右边是要乔加的值</p>
<p>- assign()是链式调用</p>
<p>- 链式编程：方法返回的数据类型是对象本身，这种方式就是链式编程，连续调用链式编程的方法</p>
<p>原表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">    one  two  three  four</span><br><span class="line">a    1    6     11    16</span><br><span class="line">b    2    7     12    17</span><br><span class="line">c    3    8     13    18</span><br><span class="line">d    4    9     14    19</span><br><span class="line">e    5   10     15    20</span><br></pre></td></tr></table></figure>

<p>使用函数后：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df_2=df_2.assign(six=[1,2,3,4,5]).assign(five=[1,2,3,4,5]).assign(seven=[1,2,3,4,5])# Adding two columns</span><br><span class="line">print(df_2)#按列插入制定列格式为：df.assign(列名=[值1,值2,值3,值4,值5])</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">    one  two  three  four  six  five  seven</span><br><span class="line">a    1    6     11    16    1     1      1</span><br><span class="line">b    2    7     12    17    2     2      2</span><br><span class="line">c    3    8     13    18    3     3      3</span><br><span class="line">d    4    9     14    19    4     4      4</span><br><span class="line">e    5   10     15    20    5     5      5</span><br></pre></td></tr></table></figure>

<h4 id="2-3-2insert-指定位置插入函数"><a href="#2-3-2insert-指定位置插入函数" class="headerlink" title="2.3.2insert()指定位置插入函数"></a>2.3.2insert()指定位置插入函数</h4><p>insert()的用法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">表变量名.insert(index, object)</span><br></pre></td></tr></table></figure>

<p>index：插入的位置，从0开始；</p>
<p>object：要插入的对象。</p>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">df=&#123;</span><br><span class="line">    &quot;A&quot;:[1,2,3],</span><br><span class="line">    &quot;B&quot;:[4,5,6],</span><br><span class="line">    &quot;C&quot;:[7,8,9]</span><br><span class="line">&#125;</span><br><span class="line">df=pd.DataFrame(df)</span><br><span class="line">print(df)</span><br><span class="line">df.insert(1,&quot;D&quot;,[i for i in range(1,4)])</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">   A  B  C</span><br><span class="line">0  1  4  7 </span><br><span class="line">1  2  5  8</span><br><span class="line">2  3  6  9</span><br><span class="line">   A  D  B  C</span><br><span class="line">0  1  1  4  7</span><br><span class="line">1  2  2  5  8</span><br><span class="line">2  3  3  6  9</span><br></pre></td></tr></table></figure>

<h4 id="2-3-3修改列值"><a href="#2-3-3修改列值" class="headerlink" title="2.3.3修改列值"></a>2.3.3修改列值</h4><h5 id="2-3-3-1直接修改"><a href="#2-3-3-1直接修改" class="headerlink" title="2.3.3.1直接修改"></a>2.3.3.1直接修改</h5><p>变量名.columns&#x3D;[改后变量名]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 修改列值</span><br><span class="line">data=&#123;</span><br><span class="line">    &quot;A&quot;:[1,2,3,4],</span><br><span class="line">    &quot;B&quot;:[5,6,7,8],</span><br><span class="line">    &quot;C&quot;:[9,10,11,12]</span><br><span class="line">&#125;</span><br><span class="line">data=pd.DataFrame(data)</span><br><span class="line">data[&quot;A&quot;]=data[&quot;A&quot;]+100</span><br><span class="line">print(data)</span><br></pre></td></tr></table></figure>

<p>原表输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A  B   C</span><br><span class="line">0  101  5   9</span><br><span class="line">1  102  6  10</span><br><span class="line">2  103  7  11</span><br><span class="line">3  104  8  12</span><br></pre></td></tr></table></figure>

<p>修改后：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 修改列名</span><br><span class="line"># 提取列名直接修改</span><br><span class="line">data.columns = [&#x27;C&#x27;,&#x27;D&#x27;,&quot;E&quot;]</span><br><span class="line">print(data)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    C  D   E</span><br><span class="line">0  101  5   9</span><br><span class="line">1  102  6  10</span><br><span class="line">2  103  7  11</span><br><span class="line">3  104  8  12</span><br></pre></td></tr></table></figure>

<h5 id="2-3-3-2rename函数修改"><a href="#2-3-3-2rename函数修改" class="headerlink" title="2.3.3.2rename函数修改"></a>2.3.3.2rename函数修改</h5><p>变量名.rename(cloumns&#x3D;{原名：改后名})</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 利用rename函数进行修改</span><br><span class="line">data.rename(columns=&#123;&#x27;C&#x27;:&#x27;cao&#x27;,&#x27;D&#x27;:&#x27;dao&#x27;,&#x27;E&#x27;:&#x27;eao&#x27;&#125;,inplace=True)</span><br><span class="line">print(data)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">float64</span><br><span class="line">   cao  dao  eao</span><br><span class="line">0  5.0    5    9</span><br><span class="line">1  6.0    6   10</span><br><span class="line">2  7.0    7   11</span><br><span class="line">3  8.0    8   12</span><br></pre></td></tr></table></figure>

<h4 id="2-3-4删除数据"><a href="#2-3-4删除数据" class="headerlink" title="2.3.4删除数据"></a>2.3.4删除数据</h4><p>.     通过drop方法删除 DataFrame 中的数据，默认情况下，drop() 不会修改原 DataFrame，而是返回一个新的 DataFrame。</p>
<p><strong>语法</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DataFrame.drop(labels=None, axis=0, index=None, columns=None, level=None, inplace=False, errors=&#x27;raise&#x27;)</span><br></pre></td></tr></table></figure>

<p><strong>参数</strong>：</p>
<ol>
<li><strong>labels</strong>：<ul>
<li><strong>类型</strong>：单个标签或列表。</li>
<li><strong>描述</strong>：要删除的行或列的标签。如果 axis&#x3D;0，则 labels 表示行标签；如果 axis&#x3D;1，则 labels 表示列标签。</li>
</ul>
</li>
<li><strong>axis</strong>：<ul>
<li><strong>类型</strong>：整数或字符串，默认为 0。</li>
<li><strong>描述</strong>：指定删除的方向。axis&#x3D;0 或 axis&#x3D;’index’ 表示删除行，axis&#x3D;1 或 axis&#x3D;’columns’ 表示删除列。</li>
</ul>
</li>
<li>index：<ul>
<li><strong>类型</strong>：单个标签或列表，默认为 None。</li>
<li><strong>描述</strong>：要删除的行的标签。如果指定，则忽略 labels 参数。</li>
</ul>
</li>
<li>columns：<ul>
<li><strong>类型</strong>：单个标签或列表，默认为 None。</li>
<li><strong>描述</strong>：要删除的列的标签。如果指定，则忽略 labels 参数。</li>
</ul>
</li>
<li>level：<ul>
<li><strong>类型</strong>：整数或级别名称，默认为 None。</li>
<li><strong>描述</strong>：用于多级索引（MultiIndex），指定要删除的级别。</li>
</ul>
</li>
<li><strong>inplace</strong>：<ul>
<li><strong>类型</strong>：布尔值，默认为 False。</li>
<li><strong>描述</strong>：如果为 True，则直接修改原 DataFrame，而不是返回一个新的 DataFrame。</li>
</ul>
</li>
<li>errors：<ul>
<li><strong>类型</strong>：字符串，默认为 ‘raise’。</li>
<li><strong>描述</strong>：指定如何处理不存在的标签。’raise’ 表示抛出错误，’ignore’ 表示忽略错误。</li>
</ul>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">data=&#123;&#x27;A&#x27;:pd.Series([1,2,3,4,5],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;]),</span><br><span class="line">       &#x27;B&#x27;:pd.Series([6,7,8,9,10],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;]),</span><br><span class="line">       &#x27;C&#x27;:pd.Series([11,12,13,14,15],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;]),</span><br><span class="line">       &#x27;D&#x27;:pd.Series([16,17,18,19,20],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;])#行标签)</span><br><span class="line">&#125;</span><br><span class="line">df=pd.DataFrame(data)</span><br><span class="line">#删除行</span><br><span class="line">df1=df.drop([&#x27;A&#x27;],axis=1)#axis和labels结合使用</span><br><span class="line">print(df1)</span><br><span class="line"></span><br><span class="line">#删除列</span><br><span class="line">df2=df.drop([&#x27;a&#x27;],axis=0)</span><br><span class="line">print(df2)</span><br></pre></td></tr></table></figure>

<p>输出删除行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">    B   C   D</span><br><span class="line">a   6  11  16</span><br><span class="line">b   7  12  17</span><br><span class="line">c   8  13  18</span><br><span class="line">d   9  14  19</span><br><span class="line">e  10  15  20</span><br></pre></td></tr></table></figure>

<p>输出删除列</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   A   B   C   D</span><br><span class="line">b  2   7  12  17</span><br><span class="line">c  3   8  13  18</span><br><span class="line">d  4   9  14  19</span><br><span class="line">e  5  10  15  20</span><br></pre></td></tr></table></figure>

<h3 id="2-4选取数据"><a href="#2-4选取数据" class="headerlink" title="2.4选取数据"></a>2.4选取数据</h3><h4 id="2-4-1布尔索引"><a href="#2-4-1布尔索引" class="headerlink" title="2.4.1布尔索引"></a>2.4.1布尔索引</h4><p>DateFrame[满足指定列的条件[DataFrame[‘列’]&gt;某值]]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">data=&#123;&#x27;A&#x27;:pd.Series([1,2,3,4,5],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;]),</span><br><span class="line">       &#x27;B&#x27;:pd.Series([6,7,8,9,10],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;]),</span><br><span class="line">       &#x27;C&#x27;:pd.Series([11,12,13,14,15],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;]),</span><br><span class="line">       &#x27;D&#x27;:pd.Series([16,17,18,19,20],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;])#行标签)</span><br><span class="line">&#125;</span><br><span class="line">df=pd.DataFrame(data)</span><br><span class="line">print(df[df[&#x27;A&#x27;]&gt;=3])#输出A列大于等于3的行</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">   A   B   C   D</span><br><span class="line">c  3   8  13  18</span><br><span class="line">d  4   9  14  19</span><br><span class="line">e  5  10  15  20</span><br></pre></td></tr></table></figure>

<h4 id="2-4-2loc选取数据"><a href="#2-4-2loc选取数据" class="headerlink" title="2.4.2loc选取数据"></a>2.4.2loc选取数据</h4><p>原始数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">data=&#123;&#x27;A&#x27;:pd.Series([1,2,3,4,5],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;]),</span><br><span class="line">       &#x27;B&#x27;:pd.Series([6,7,8,9,10],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;]),</span><br><span class="line">       &#x27;C&#x27;:pd.Series([11,12,13,14,15],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;]),</span><br><span class="line">       &#x27;D&#x27;:pd.Series([16,17,18,19,20],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;])#行标签)</span><br><span class="line">&#125;</span><br><span class="line">df=pd.DataFrame(data)</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">A   B   C   D</span><br><span class="line">a  1   6  11  16</span><br><span class="line">b  2   7  12  17</span><br><span class="line">c  3   8  13  18</span><br><span class="line">d  4   9  14  19</span><br><span class="line">e  5  10  15  20</span><br></pre></td></tr></table></figure>



<ul>
<li><p>DataFrame.loc[行标签索引]</p>
<p>示例代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(df.loc[&#x27;a&#x27;])</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A     1</span><br><span class="line">B     6</span><br><span class="line">C    11</span><br><span class="line">D    16</span><br><span class="line">Name: a, dtype: int64</span><br></pre></td></tr></table></figure>
</li>
<li><p>DataFrame.loc[行标签索引a：行标签索引b]   从a到b行</p>
<p>示例代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(df.loc[&#x27;a&#x27;:&#x27;c&#x27;])  # 选择行标签从 &#x27;a&#x27; 到 &#x27;c&#x27; 的行</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">   A  B   C   D</span><br><span class="line">a  1  6  11  16</span><br><span class="line">b  2  7  12  17</span><br><span class="line">c  3  8  13  18</span><br></pre></td></tr></table></figure>
</li>
<li><p>DataFrame.loc[行标签索引a，列标签索引B]   选取行标签a和列标签B的值</p>
<p>示例代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(df.loc[&#x27;a&#x27;, &#x27;B&#x27;])  # 选择行标签为 &#x27;a&#x27;，列标签为 &#x27;B&#x27; 的元素</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6</span><br></pre></td></tr></table></figure>
</li>
<li><p>DataFrame.loc[[行标签索引a，行标签索引b]，[列标签索引A，列标签索引B]]   选取行标签a和b,列标签B和A的值</p>
<p>示例代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(df.loc[[&#x27;a&#x27;, &#x27;c&#x27;], [&#x27;A&#x27;, &#x27;C&#x27;]])  # 选择行标签为 &#x27;a&#x27; 和 &#x27;c&#x27;，列标签为 &#x27;A&#x27; 和 &#x27;C&#x27; 的数据</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">   A   C</span><br><span class="line">a  1  11</span><br><span class="line">c  3  13</span><br></pre></td></tr></table></figure>
</li>
<li><p>DataFrame.loc[行标签索引a：行标签索引b，列标签索引A：列标签索引B]   选取行标签a到b,列标签A到B的值</p>
<p>示例代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(df.loc[&#x27;a&#x27;:&#x27;d&#x27;, &#x27;A&#x27;:&#x27;C&#x27;])# 选择行标签从 &#x27;a&#x27; 到 &#x27;d&#x27;，列标签从 &#x27;A&#x27; 到 &#x27;C&#x27; 的数据</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">   A  B   C</span><br><span class="line">a  1  6  11</span><br><span class="line">b  2  7  12</span><br><span class="line">c  3  8  13</span><br><span class="line">d  4  9  14A   B   C   D</span><br><span class="line">a  1   6  11  16</span><br><span class="line">b  2   7  12  17</span><br><span class="line">c  3   8  13  18</span><br><span class="line">d  4   9  14  19</span><br><span class="line">e  5  10  15  20</span><br><span class="line">A     1</span><br><span class="line">B     6</span><br><span class="line">C    11</span><br><span class="line">D    16</span><br><span class="line">Name: a, dtype: int64</span><br><span class="line">   A  B   C   D</span><br><span class="line">a  1  6  11  16</span><br><span class="line">b  2  7  12  17</span><br><span class="line">c  3  8  13  18</span><br><span class="line">6</span><br><span class="line">   A   C</span><br><span class="line">a  1  11</span><br><span class="line">c  3  13</span><br><span class="line">   A  B   C</span><br><span class="line">a  1  6  11</span><br><span class="line">b  2  7  12</span><br><span class="line">c  3  8  13</span><br><span class="line">d  4  9  14</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-4-3iloc选取数据"><a href="#2-4-3iloc选取数据" class="headerlink" title="2.4.3iloc选取数据"></a>2.4.3iloc选取数据</h4><p>数字索引</p>
<p>原始数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line"></span><br><span class="line"># 创建一个示例 DataFrame</span><br><span class="line">data = &#123;</span><br><span class="line">    &#x27;A&#x27;: [1, 2, 3, 4],</span><br><span class="line">    &#x27;B&#x27;: [5, 6, 7, 8],</span><br><span class="line">    &#x27;C&#x27;: [9, 10, 11, 12]</span><br><span class="line">&#125;</span><br><span class="line">df = pd.DataFrame(data, index=[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;])</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   A  B   C</span><br><span class="line">a  1  5   9</span><br><span class="line">b  2  6  10</span><br><span class="line">c  3  7  11</span><br><span class="line">d  4  8  12</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p>df.iloc[0]：选择第 0 行的数据</p>
<p>示例代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(df.iloc[0]) </span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A    1</span><br><span class="line">B    5</span><br><span class="line">C    9</span><br><span class="line">Name: a, dtype: int64</span><br></pre></td></tr></table></figure>
</li>
<li><p>df.iloc[0:2]：选择第 0 到 1 行的数据</p>
<p>示例代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(df.iloc[0:2]) </span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">   A  B   C</span><br><span class="line">a  1  5   9</span><br><span class="line">b  2  6  10</span><br></pre></td></tr></table></figure>
</li>
<li><p>df.iloc[0, 1]：选择第 0 行，第 1 列的元素</p>
<p>示例代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(df.iloc[0, 1])</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5</span><br></pre></td></tr></table></figure>
</li>
<li><p>df.iloc[[0, 2], [0, 2]]：选择第 0 和 2 行，第 0 和 2 列的数据</p>
<p>示例代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(df.iloc[[0, 2], [0, 2]])</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">   A   C</span><br><span class="line">a  1   9</span><br><span class="line">c  3  11</span><br></pre></td></tr></table></figure>

<h4 id="2-4-4切片多行选择"><a href="#2-4-4切片多行选择" class="headerlink" title="2.4.4切片多行选择"></a>2.4.4切片多行选择</h4><p>df[0:2]输入行号：使用 df[0:2] 选择前两行</p>
<p>示例代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line"></span><br><span class="line"># 创建一个示例 DataFrame</span><br><span class="line">data = &#123;</span><br><span class="line">    &#x27;A&#x27;: [1, 2, 3, 4],</span><br><span class="line">    &#x27;B&#x27;: [5, 6, 7, 8],</span><br><span class="line">    &#x27;C&#x27;: [9, 10, 11, 12]</span><br><span class="line">&#125;</span><br><span class="line">df = pd.DataFrame(data, index=[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;])</span><br><span class="line"></span><br><span class="line"># 使用 df[0:2] 选择前两行</span><br><span class="line">result = df[0:2]</span><br><span class="line">print(type(result))  # 输出: &lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;</span><br><span class="line">   A  B   C</span><br><span class="line">a  1  5   9</span><br><span class="line">b  2  6  10</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-5添加列表"><a href="#2-5添加列表" class="headerlink" title="2.5添加列表"></a>2.5添加列表</h3><h4 id="2-5-1loc方法添加新的行"><a href="#2-5-1loc方法添加新的行" class="headerlink" title="2.5.1loc方法添加新的行"></a>2.5.1loc方法添加新的行</h4><p># 添加新行 ‘e’ df.loc[‘e’] &#x3D; [17, 18, 19]:添加行标签列e</p>
<p>示例代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 创建一个 DataFrame</span><br><span class="line">data = &#123;</span><br><span class="line">    &#x27;A&#x27;: [1, 2, 3, 4],</span><br><span class="line">    &#x27;B&#x27;: [5, 6, 7, 8],</span><br><span class="line">    &#x27;C&#x27;: [9, 10, 11, 12]</span><br><span class="line">&#125;</span><br><span class="line">df = pd.DataFrame(data, index=[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;])</span><br><span class="line"></span><br><span class="line"># 添加新行 &#x27;e&#x27;</span><br><span class="line">df.loc[&#x27;e&#x27;] = [17, 18, 19]</span><br><span class="line"></span><br><span class="line">print(&quot;添加新行后的 DataFrame:&quot;)</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">添加新行后的 DataFrame:</span><br><span class="line">    A   B   C</span><br><span class="line">a   1   5   9</span><br><span class="line">b   2   6  10</span><br><span class="line">c   3   7  11</span><br><span class="line">d   4   8  12</span><br><span class="line">e  17  18  19</span><br></pre></td></tr></table></figure>

<h4 id="2-5-2cocat拼接"><a href="#2-5-2cocat拼接" class="headerlink" title="2.5.2cocat拼接"></a>2.5.2cocat拼接</h4><p><strong>语法：</strong></p>
<p><strong>obj</strong>：要连接的 DataFrame 或 Series 对象的列表或字典。</p>
<p><em><strong>axis</strong></em>: 指定连接的轴，0 或 ‘index’ 表示按行连接，1 或 ‘columns’ 表示按列连接。</p>
<p><strong>join</strong>: 指定连接方式，’outer’ 表示并集（默认），’inner’ 表示交集。</p>
<p><strong>ignore_index</strong>: 如果为 True，则忽略原始索引并生成新的索引。</p>
<p>keys: 用于在连接结果中创建层次化索引。</p>
<p>levels: 指定层次化索引的级别。</p>
<p>names: 指定层次化索引的名称。</p>
<p>verify_integrity: 如果为 True，则在连接时检查是否有重复索引。</p>
<p>sort: 如果为 True，则在连接时对列进行排序。</p>
<p>copy: 如果为 True，则复制数据。</p>
<p>示例代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">df3=pd.DataFrame(&#123;&#x27;city&#x27;:[&#x27;北京&#x27;,&#x27;上海&#x27;,&#x27;深圳&#x27;],&#x27;year&#x27;:[2010,2011,2012]&#125;)</span><br><span class="line">df4=pd.DataFrame(&#123;&#x27;city&#x27;:[&#x27;北京&#x27;,&#x27;上海&#x27;,&#x27;深圳&#x27;],&#x27;year&#x27;:[2010,2011,2012]&#125;)</span><br><span class="line">df5=pd.concat([df3,df4],axis=1)</span><br><span class="line">print(df5)</span><br><span class="line"></span><br><span class="line">df6=pd.concat([df3,df4],axis=0)</span><br><span class="line">print(df6)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">df7=pd.concat([df3,df4],axis=0,ignore_index=True)#ignore_index=True的意思是重新编号</span><br><span class="line">print(df7)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<p>按行添加的结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">city  year city  year</span><br><span class="line">0   北京  2010   北京  2010</span><br><span class="line">1   上海  2011   上海  2011</span><br><span class="line">2   深圳  2012   深圳  2012</span><br></pre></td></tr></table></figure>

<p>按列添加的结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  city  year</span><br><span class="line">0   北京  2010</span><br><span class="line">1   上海  2011</span><br><span class="line">2   深圳  2012</span><br><span class="line">0   北京  2010</span><br><span class="line">1   上海  2011</span><br><span class="line">2   深圳  2012</span><br></pre></td></tr></table></figure>

<p>重新标号结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> city  year</span><br><span class="line">0   北京  2010</span><br><span class="line">1   上海  2011</span><br><span class="line">2   深圳  2012</span><br><span class="line">3   北京  2010</span><br><span class="line">4   上海  2011</span><br><span class="line">5   深圳  2012</span><br></pre></td></tr></table></figure>

<p>分别命名：</p>
<p>示例代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df8=pd.concat([df3,df4],axis=1,keys=[&#x27;df3&#x27;,&#x27;df4&#x27;])#keys=[&#x27;df3&#x27;,&#x27;df4&#x27;]的意思是把df3和df4分别命名</span><br><span class="line">print(df8)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> df3        df4      </span><br><span class="line">  city  year city  year</span><br><span class="line">0   北京  2010   北京  2010</span><br><span class="line">1   上海  2011   上海  2011</span><br><span class="line">2   深圳  2012   深圳  2012</span><br></pre></td></tr></table></figure>

<p>DataFrame与Series连接</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># 创建一个示例 DataFrame</span><br><span class="line">df = pd.DataFrame(&#123;</span><br><span class="line">    &#x27;A&#x27;: [1, 2, 3],</span><br><span class="line">    &#x27;B&#x27;: [4, 5, 6]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"># 创建一个示例 Series</span><br><span class="line">series = pd.Series([7, 8, 9], name=&#x27;C&#x27;)</span><br><span class="line"></span><br><span class="line"># 按行连接 DataFrame 和 Series</span><br><span class="line">result_row = pd.concat([df, series], axis=0)</span><br><span class="line"></span><br><span class="line"># 按列连接 DataFrame 和 Series</span><br><span class="line">result_col = pd.concat([df, series], axis=1)</span><br><span class="line"></span><br><span class="line">print(&quot;按行连接结果:&quot;)</span><br><span class="line">print(result_row)</span><br><span class="line">print(&quot;\n按列连接结果:&quot;)</span><br><span class="line">print(result_col)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">按行连接结果:</span><br><span class="line">     A    B    C</span><br><span class="line">0  1.0  4.0  NaN</span><br><span class="line">1  2.0  5.0  NaN</span><br><span class="line">2  3.0  6.0  NaN</span><br><span class="line">0  NaN  NaN  7.0</span><br><span class="line">1  NaN  NaN  8.0</span><br><span class="line">2  NaN  NaN  9.0</span><br><span class="line"></span><br><span class="line">按列连接结果:</span><br><span class="line">   A  B  C</span><br><span class="line">0  1  4  7</span><br><span class="line">1  2  5  8</span><br><span class="line">2  3  6  9</span><br></pre></td></tr></table></figure>

<h3 id="2-6reindex"><a href="#2-6reindex" class="headerlink" title="2.6reindex"></a>2.6reindex</h3><p>改变索引</p>
<p>示例代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># reindex：重新索引，对原表的索引进行重新排序</span><br><span class="line">data=&#123;</span><br><span class="line">    &#x27;A&#x27;:[1,2,3],</span><br><span class="line">    &#x27;B&#x27;:[4,5,6],</span><br><span class="line">    &#x27;C&#x27;:[7,8,9]</span><br><span class="line">&#125;</span><br><span class="line">print(pd.DataFrame(data))</span><br><span class="line">new_index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;]</span><br><span class="line">df_reindexed=df.reindex(new_index)#等价于df.reindex(index=new_index)和pd.DataFrame(data,index=new_index)</span><br><span class="line">print(df_reindexed)</span><br><span class="line"></span><br><span class="line">df_reindexed=df.reindex(columns=[&#x27;A&#x27;,&#x27;B&#x27;,&#x27;C&#x27;,&#x27;D&#x27;])</span><br><span class="line">print(df_reindexed)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">原始数据：</span><br><span class="line"> A  B  C</span><br><span class="line">0  1  4  7</span><br><span class="line">1  2  5  8</span><br><span class="line">2  3  6  9</span><br><span class="line">修改行索引的数据：</span><br><span class="line">   A  B   C</span><br><span class="line">a  1  5   9</span><br><span class="line">b  2  6  10</span><br><span class="line">c  3  7  11</span><br><span class="line">增加列索引增加D列填充NaN:</span><br><span class="line">   A  B   C   D</span><br><span class="line">a  1  5   9 NaN</span><br><span class="line">b  2  6  10 NaN</span><br><span class="line">c  3  7  11 NaN</span><br><span class="line">d  4  8  12 NaN</span><br></pre></td></tr></table></figure>

<h3 id="2-7遍历DataFrame"><a href="#2-7遍历DataFrame" class="headerlink" title="2.7遍历DataFrame"></a>2.7遍历DataFrame</h3><h4 id="2-7-1DataFrame-iterrows"><a href="#2-7-1DataFrame-iterrows" class="headerlink" title="2.7.1DataFrame.iterrows()"></a>2.7.1DataFrame.iterrows()</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">创建表</span><br><span class="line"># 新建一个DataFrame</span><br><span class="line">import pandas as pd </span><br><span class="line">df=pd.DataFrame(&#123;</span><br><span class="line">    &#x27;A&#x27;:pd.Series([1,2,3],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;]),</span><br><span class="line">    &#x27;B&#x27;:pd.Series([5,6,7],index=[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;])</span><br><span class="line">&#125;)</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>

<p>原始表：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">   A  B</span><br><span class="line">a  1  5</span><br><span class="line">b  2  6</span><br><span class="line">c  3  7</span><br></pre></td></tr></table></figure>

<p>示例代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">j=0</span><br><span class="line">for row in df.iterrows():</span><br><span class="line">    j+=1</span><br><span class="line">    print(f&#x27;第&#123;j&#125;行：&#x27;)</span><br><span class="line">    print()</span><br><span class="line">    print(row)</span><br><span class="line">    for i in row:</span><br><span class="line">        print(i)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">第1行：</span><br><span class="line"></span><br><span class="line">(&#x27;a&#x27;, A    1</span><br><span class="line">B    5</span><br><span class="line">Name: a, dtype: int64)</span><br><span class="line">a</span><br><span class="line">A    1</span><br><span class="line">B    5</span><br><span class="line">Name: a, dtype: int64</span><br><span class="line">第2行：</span><br><span class="line"></span><br><span class="line">(&#x27;b&#x27;, A    2</span><br><span class="line">B    6</span><br><span class="line">Name: b, dtype: int64)</span><br><span class="line">b</span><br><span class="line">A    2</span><br><span class="line">B    6</span><br><span class="line">Name: b, dtype: int64</span><br><span class="line">第3行：</span><br><span class="line"></span><br><span class="line">(&#x27;c&#x27;, A    3</span><br><span class="line">B    7</span><br><span class="line">Name: c, dtype: int64)</span><br><span class="line">c</span><br><span class="line">A    3</span><br><span class="line">B    7</span><br><span class="line">Name: c, dtype: int64</span><br></pre></td></tr></table></figure>

<h4 id="2-7-2DataFrame-items"><a href="#2-7-2DataFrame-items" class="headerlink" title="2.7.2DataFrame.items()"></a>2.7.2DataFrame.items()</h4><p>也可以利用DataFrame.items()</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for idx,value in df.items():</span><br><span class="line">    print(idx)</span><br><span class="line">    print(value)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">A</span><br><span class="line">a    1</span><br><span class="line">b    2</span><br><span class="line">c    3</span><br><span class="line">Name: A, dtype: int64</span><br><span class="line">B</span><br><span class="line">a    5</span><br><span class="line">b    6</span><br><span class="line">c    7</span><br><span class="line">Name: B, dtype: int64</span><br></pre></td></tr></table></figure>

<h4 id="2-7-3遍历行和列来遍历"><a href="#2-7-3遍历行和列来遍历" class="headerlink" title="2.7.3遍历行和列来遍历"></a>2.7.3遍历行和列来遍历</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for row in df.index:</span><br><span class="line">    for col in df.columns:</span><br><span class="line">        print(df.loc[row,col])</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">6</span><br><span class="line">10</span><br><span class="line">3</span><br><span class="line">7</span><br><span class="line">11</span><br><span class="line">3</span><br><span class="line">7</span><br><span class="line">11</span><br></pre></td></tr></table></figure>

<h4 id="2-7-4使用-itertuples-遍历"><a href="#2-7-4使用-itertuples-遍历" class="headerlink" title="2.7.4使用 itertuples() 遍历"></a>2.7.4使用 itertuples() 遍历</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for row in df.itertuples():</span><br><span class="line">    print(row)</span><br><span class="line">    for i in row:</span><br><span class="line">        print(i)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Pandas(Index=&#x27;a&#x27;, A=2, B=6, C=10)</span><br><span class="line">a</span><br><span class="line">2</span><br><span class="line">6</span><br><span class="line">10</span><br><span class="line">Pandas(Index=&#x27;b&#x27;, A=3, B=7, C=11)</span><br><span class="line">b</span><br><span class="line">3</span><br><span class="line">7</span><br><span class="line">11</span><br><span class="line">Pandas(Index=&#x27;c&#x27;, A=3, B=7, C=11)</span><br><span class="line">c</span><br><span class="line">3</span><br><span class="line">7</span><br><span class="line">11</span><br></pre></td></tr></table></figure>

<h3 id="2-8排序"><a href="#2-8排序" class="headerlink" title="2.8排序"></a>2.8排序</h3><h4 id="2-8-1sort-index-排序"><a href="#2-8-1sort-index-排序" class="headerlink" title="2.8.1sort_index()排序"></a>2.8.1sort_index()排序</h4><p>参数：sort_index(axis&#x3D;,ascend&#x3D;False（降序）&#x2F;True（升序）)</p>
<p>示例代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line"></span><br><span class="line"># 创建一个示例 DataFrame</span><br><span class="line">data = &#123;</span><br><span class="line">    &#x27;A&#x27;: [1, 2, 3],</span><br><span class="line">    &#x27;B&#x27;: [4, 5, 6],</span><br><span class="line">    &#x27;C&#x27;: [7, 8, 9]</span><br><span class="line">&#125;</span><br><span class="line">df = pd.DataFrame(data, index=[&#x27;b&#x27;, &#x27;c&#x27;, &#x27;a&#x27;])</span><br><span class="line">print(df)</span><br><span class="line">print(&quot;&quot;)</span><br><span class="line"># 按行索引标签排序，不对对应的值排序</span><br><span class="line">df_sorted = df.sort_index()</span><br><span class="line">#按列索引标签降序排序</span><br><span class="line">df_sorted = df.sort_index(axis=1,ascending=False)#按行索引标签降序排序</span><br><span class="line">print(df_sorted)</span><br><span class="line">print(&quot;&quot;)</span><br><span class="line">df_sorted1=df.sort_index(axis=0,ascending=False)#按列的索引标签降序排序</span><br><span class="line">print(df_sorted1)</span><br></pre></td></tr></table></figure>

<p>原表：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A  B  C</span><br><span class="line">b  1  4  7</span><br><span class="line">c  2  5  8</span><br><span class="line">a  3  6  9</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>axis&#x3D;1时，按行索引标签降序排序</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   C  B  A</span><br><span class="line">b  7  4  1</span><br><span class="line">c  8  5  2</span><br><span class="line">a  9  6  3</span><br></pre></td></tr></table></figure>

<p>axis&#x3D;0时，按行索引标签降序排序</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">   A  B  C</span><br><span class="line">c  2  5  8</span><br><span class="line">b  1  4  7</span><br><span class="line">a  3  6  9</span><br></pre></td></tr></table></figure>

<h4 id="2-8-2sort-values"><a href="#2-8-2sort-values" class="headerlink" title="2.8.2sort_values()"></a>2.8.2sort_values()</h4><p>按某列索引，sort_values(by&#x3D;[‘列标签’，arg**]，,ascend&#x3D;False（降序）&#x2F;True（升序）)</p>
<p>示例代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">df=pd.DataFrame(&#123;</span><br><span class="line">    &#x27;name&#x27;:[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;],</span><br><span class="line">    &#x27;age&#x27;:[26,11,22,22,24],</span><br><span class="line">    &#x27;city&#x27;:[&#x27;delhi&#x27;,&#x27;mumbai&#x27;,&#x27;chennai&#x27;,&#x27;kolkata&#x27;,&#x27;banglore&#x27;],</span><br><span class="line">    &#x27;score&#x27;:[90,80,60,60,50]</span><br><span class="line">&#125;)</span><br><span class="line">df=df.sort_values(by=[&#x27;age&#x27;],ascending=False)#通过age列降序排列,默认是true是升序排列</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  name  age      city  score</span><br><span class="line">0    a   26     delhi     90</span><br><span class="line">4    e   24  banglore     50</span><br><span class="line">2    c   22   chennai     60</span><br><span class="line">3    d   22   kolkata     60</span><br><span class="line">1    b   11    mumbai     80</span><br></pre></td></tr></table></figure>

<p>可以选定两个列标签，先按照前一个标签，若值相同，则按照第二个标签排序</p>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 如果age有相同个的值，则按照score列降序排列</span><br><span class="line">df=df.sort_values(by=[&#x27;score&#x27;,&#x27;name&#x27;],ascending=False)#通过age列降序排列</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  name  age      city  score</span><br><span class="line">0    a   26     delhi     90</span><br><span class="line">1    b   11    mumbai     80</span><br><span class="line">3    d   22   kolkata     60</span><br><span class="line">2    c   22   chennai     60</span><br><span class="line">4    e   24  banglore     50</span><br></pre></td></tr></table></figure>

<h3 id="2-9去重"><a href="#2-9去重" class="headerlink" title="2.9去重"></a>2.9去重</h3><p>drop.drop_duplicates(keep,subset)</p>
<p>不加任何条件默认只保留第一次出现的重复项</p>
<p>keep&#x3D;：是否保留值：last保留最后的值，False删除所有重复值，</p>
<p>示例：代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">df=pd.DataFrame(&#123;</span><br><span class="line">    &#x27;a&#x27;: [1,1,1,5,5],</span><br><span class="line">    &#x27;b&#x27;: [6,6,6,2,2],</span><br><span class="line">    &#x27;c&#x27;: [11,11,15,15,15]</span><br><span class="line">&#125;)</span><br><span class="line">print(df)</span><br><span class="line">df_unique=df.drop_duplicates()#默认只保留第一次出现的重复项</span><br><span class="line">print()</span><br><span class="line">print(df_unique)</span><br><span class="line">print()</span><br><span class="line">df_unique_last=df.drop_duplicates(keep=&#x27;last&#x27;)</span><br><span class="line">print(df_unique_last)#保留最后一个重复项</span><br><span class="line"></span><br><span class="line">print   ()</span><br><span class="line"></span><br><span class="line">df_unique_all=df.drop_duplicates(keep=False)</span><br><span class="line">print(df_unique_all)#删除所有重复项</span><br><span class="line">print()</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<p>原表：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   a  b   c</span><br><span class="line">0  1  6  11</span><br><span class="line">1  1  6  11</span><br><span class="line">2  1  6  15</span><br><span class="line">3  5  2  15</span><br><span class="line">4  5  2  15</span><br></pre></td></tr></table></figure>

<p>不加任何参数的示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> a  b   c</span><br><span class="line">0  1  6  11</span><br><span class="line">2  1  6  15</span><br><span class="line">3  5  2  15</span><br></pre></td></tr></table></figure>

<p>keep&#x3D;last示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">  a  b   c</span><br><span class="line">1  1  6  11</span><br><span class="line">2  1  6  15</span><br><span class="line">4  5  2  15</span><br></pre></td></tr></table></figure>

<p>keep&#x3D;False示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">  a  b   c</span><br><span class="line">2  1  6  15</span><br></pre></td></tr></table></figure>

<p>subset&#x3D;[‘a’,’b’]，只保留a和b列的重复项</p>
<p>示例输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  a  b   c</span><br><span class="line">0  1  6  11</span><br><span class="line">3  5  2  15</span><br></pre></td></tr></table></figure>

<p>subset&#x3D;[‘a’,’c’],keep&#x3D;’last’，只保留a和b列的最后一个重复项</p>
<p>示例输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">   a  b   c</span><br><span class="line">1  1  6  11</span><br><span class="line">2  1  6  15</span><br><span class="line">4  5  2  15</span><br></pre></td></tr></table></figure>

<h3 id="2-10分组"><a href="#2-10分组" class="headerlink" title="2.10分组"></a>2.10分组</h3><p>groupby函数，指定按列分类参数groupby(指定的列名)</p>
<p>后可加拓展函数，返回一个对象，可以通过for循环访问</p>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">#创建一个有类别的DataFrame</span><br><span class="line">data = &#123;</span><br><span class="line">    &#x27;A&#x27;: [&#x27;foo&#x27;, &#x27;bar&#x27;, &#x27;foo&#x27;, &#x27;bar&#x27;, &#x27;foo&#x27;, &#x27;bar&#x27;, &#x27;foo&#x27;, &#x27;foo&#x27;],</span><br><span class="line">    &#x27;B&#x27;: [&#x27;one&#x27;, &#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;, &#x27;two&#x27;, &#x27;two&#x27;, &#x27;one&#x27;, &#x27;three&#x27;],</span><br><span class="line">    &#x27;C&#x27;: [1, 2, 3, 4, 5, 6, 7, 8],</span><br><span class="line">    &#x27;D&#x27;: [10, 20, 30, 40, 50, 60, 70, 80]</span><br><span class="line">&#125;</span><br><span class="line">df = pd.DataFrame(data)</span><br><span class="line"></span><br><span class="line"># 按列 &#x27;A&#x27; 分组</span><br><span class="line">grouped = df.groupby(&#x27;A&#x27;)</span><br><span class="line">print(grouped)</span><br><span class="line"># 查看分组结果</span><br><span class="line">for name, group in grouped:</span><br><span class="line">    print(f&quot;Group: &#123;name&#125;&quot;)</span><br><span class="line">    #统计每组的个数</span><br><span class="line">    print(f&quot;Group size: &#123;len(group)&#125;&quot;)</span><br><span class="line">    print(f&quot;Group mean_C: &#123;group[&#x27;C&#x27;].mean()&#125;&quot;)</span><br><span class="line">    print(f&quot;Group mean_D: &#123;group[&#x27;D&#x27;].mean()&#125;&quot;)</span><br><span class="line">    print(group)</span><br><span class="line">    print()</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x000001B9B7320EC0&gt;</span><br><span class="line">Group: bar</span><br><span class="line">Group size: 3</span><br><span class="line">Group mean_C: 4.0</span><br><span class="line">Group mean_D: 40.0</span><br><span class="line">     A      B  C   D</span><br><span class="line">1  bar    one  2  20</span><br><span class="line">3  bar  three  4  40</span><br><span class="line">5  bar    two  6  60</span><br><span class="line"></span><br><span class="line">Group: foo</span><br><span class="line">Group size: 5</span><br><span class="line">Group mean_C: 4.8</span><br><span class="line">Group mean_D: 48.0</span><br><span class="line">     A      B  C   D</span><br><span class="line">0  foo    one  1  10</span><br><span class="line">2  foo    two  3  30</span><br><span class="line">4  foo    two  5  50</span><br><span class="line">6  foo    one  7  70</span><br><span class="line">7  foo  three  8  80</span><br></pre></td></tr></table></figure>

<p>使用transform方法: 在每个分组中计算平均值，并将结果赋值给新列也可以在taransform方法中传入其他聚合函数如sum、max或者lambada函数等</p>
<p>示例代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df[&#x27;C_mean&#x27;]=df.groupby(&#x27;A&#x27;)[&#x27;C&#x27;].transform(&#x27;mean&#x27;)</span><br><span class="line">df[&#x27;D_mean&#x27;]=df.groupby(&#x27;A&#x27;)[&#x27;D&#x27;].transform(&#x27;mean&#x27;)  </span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">    A      B  C   D  C_mean  D_mean</span><br><span class="line">0  foo    one  1  10     4.8    48.0</span><br><span class="line">1  bar    one  2  20     4.0    40.0</span><br><span class="line">2  foo    two  3  30     4.8    48.0</span><br><span class="line">3  bar  three  4  40     4.0    40.0</span><br><span class="line">4  foo    two  5  50     4.8    48.0</span><br><span class="line">5  bar    two  6  60     4.0    40.0</span><br><span class="line">6  foo    one  7  70     4.8    48.0</span><br><span class="line">7  foo  three  8  80     4.8    48.0</span><br></pre></td></tr></table></figure>

<p>lambada函数示例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fillter=df.groupby(&#x27;A&#x27;).filter(lambda x:x[&#x27;C&#x27;].mean()&gt;4.5)# 意义：A列分组，C列大于4.5的行，x[&#x27;C&#x27;].mean()：C列的平均值</span><br><span class="line">print(fillter)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">    A      B  C   D  C_mean  D_mean</span><br><span class="line">0  foo    one  1  10     4.8    48.0</span><br><span class="line">2  foo    two  3  30     4.8    48.0</span><br><span class="line">4  foo    two  5  50     4.8    48.0</span><br><span class="line">6  foo    one  7  70     4.8    48.0</span><br><span class="line">7  foo  three  8  80     4.8    48.0</span><br></pre></td></tr></table></figure>

<h3 id="2-11合并"><a href="#2-11合并" class="headerlink" title="2.11合并"></a>2.11合并</h3><p>merge(on,how)</p>
<p>#on：合并的列名，默认为None，表示合并的列名是索引，如果索引没有重叠，则报错</p>
<p>#how：合并方式，默认为inner，表示交集，outer表示并集，left表示左表，right表示右表，indicator表示显示合并方式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">left = pd.DataFrame(&#123;</span><br><span class="line">    &#x27;key&#x27;: [&#x27;K0&#x27;, &#x27;K1&#x27;, &#x27;K2&#x27;, &#x27;K3&#x27;],</span><br><span class="line">    &#x27;A&#x27;: [&#x27;A0&#x27;, &#x27;A1&#x27;, &#x27;A2&#x27;, &#x27;A3&#x27;],</span><br><span class="line">    &#x27;B&#x27;: [&#x27;B0&#x27;, &#x27;B1&#x27;, &#x27;B2&#x27;, &#x27;B3&#x27;]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">right = pd.DataFrame(&#123;</span><br><span class="line">    &#x27;key&#x27;: [&#x27;K0&#x27;, &#x27;K1&#x27;, &#x27;K2&#x27;, &#x27;K4&#x27;],</span><br><span class="line">    &#x27;C&#x27;: [&#x27;C0&#x27;, &#x27;C1&#x27;, &#x27;C2&#x27;, &#x27;C3&#x27;],</span><br><span class="line">    &#x27;D&#x27;: [&#x27;D0&#x27;, &#x27;D1&#x27;, &#x27;D2&#x27;, &#x27;D3&#x27;]</span><br><span class="line">&#125;)</span><br><span class="line">#内连接：返回两个DataFrame相同的键对应的数据</span><br><span class="line">df1=pd.merge(left,right,how=&#x27;inner&#x27;,on=&#x27;key&#x27;)</span><br><span class="line">print(df1)</span><br><span class="line"></span><br><span class="line">#外连接：返回两个DataFrame的并集</span><br><span class="line">df2=pd.merge(left,right,on=&#x27;key&#x27;,how=&#x27;outer&#x27;)</span><br><span class="line">print(df2)</span><br><span class="line"></span><br><span class="line">#左连接：以左表为基准，返回左表所有键对应的数据，没有则填充null</span><br><span class="line">df3=pd.merge(left,right,on=&#x27;key&#x27;,how=&#x27;left&#x27;)</span><br><span class="line">print(df3)</span><br><span class="line">#右连接同理</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<p>内连接</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">  key   A   B   C   D</span><br><span class="line">0  K0  A0  B0  C0  D0</span><br><span class="line">1  K1  A1  B1  C1  D1</span><br><span class="line">2  K2  A2  B2  C2  D2</span><br></pre></td></tr></table></figure>

<p>外连接</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> key    A    B    C    D</span><br><span class="line">0  K0   A0   B0   C0   D0</span><br><span class="line">1  K1   A1   B1   C1   D1</span><br><span class="line">2  K2   A2   B2   C2   D2</span><br><span class="line">3  K3   A3   B3  NaN  NaN</span><br><span class="line">4  K4  NaN  NaN   C3   D3</span><br></pre></td></tr></table></figure>

<p>左连接</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> key   A   B    C    D</span><br><span class="line">0  K0  A0  B0   C0   D0</span><br><span class="line">1  K1  A1  B1   C1   D1</span><br><span class="line">2  K2  A2  B2   C2   D2</span><br><span class="line">3  K3  A3  B3  NaN  NaN</span><br></pre></td></tr></table></figure>

<p>右连接同理</p>
<h3 id="2-12随机抽样"><a href="#2-12随机抽样" class="headerlink" title="2.12随机抽样"></a>2.12随机抽样</h3><p>sample(n,axis,random_state,frac)</p>
<p>参数意义：n是取的行数，axis&#x3D;0表示行，random_state是随机种子，保证每次随机结果相同，frac表示抽取多少行或者列数据，取0~1。</p>
<p>示例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">df_sample = pd.DataFrame(&#123;</span><br><span class="line">    &quot;company&quot;: [&quot;Google&quot;, &quot;Facebook&quot;, &quot;Amazon&quot;, &quot;Microsoft&quot;,&quot;Tencent&quot;,&quot;MiHoYo&quot;],</span><br><span class="line">    &quot;revenue&quot;: [100, 200, 300, 400, 500,600],</span><br><span class="line">    &quot;contry&quot;: [&quot;USA&quot;, &quot;USA&quot;, &quot;USA&quot;, &quot;USA&quot;,&quot;China&quot;,&quot;China&quot;]</span><br><span class="line">&#125;)</span><br><span class="line"># 随机取两行</span><br><span class="line">df1=df_sample.sample(n=2,axis=0,random_state=3)#参数意义：n是取的行数，axis=0表示行，random_state是随机种子，保证每次随机结果相同</span><br><span class="line">print(df1)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">     company  revenue contry</span><br><span class="line">3  Microsoft      400    USA</span><br><span class="line">5     MiHoYo      600  China</span><br></pre></td></tr></table></figure>

<p>随机取两列</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 随机取两列</span><br><span class="line">df2=df_sample.sample(n=2,axis=1)</span><br><span class="line">print(df2)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">     company contry</span><br><span class="line">0     Google    USA</span><br><span class="line">1   Facebook    USA</span><br><span class="line">2     Amazon    USA</span><br><span class="line">3  Microsoft    USA</span><br><span class="line">4    Tencent  China</span><br><span class="line">5     MiHoYo  China</span><br></pre></td></tr></table></figure>

<p>示例：取三分之二列数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#抽取百分之五十行的数据</span><br><span class="line">df3 = df_sample.sample(axis=1,frac=0.66,random_state=1)</span><br><span class="line">print(df3)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">     company contry</span><br><span class="line">0     Google    USA</span><br><span class="line">1   Facebook    USA</span><br><span class="line">2     Amazon    USA</span><br><span class="line">3  Microsoft    USA</span><br><span class="line">4    Tencent  China</span><br><span class="line">5     MiHoYo  China</span><br></pre></td></tr></table></figure>

<h3 id="2-13空值处理"><a href="#2-13空值处理" class="headerlink" title="2.13空值处理"></a>2.13空值处理</h3><h4 id="2-13-1检测空值-is-not-null"><a href="#2-13-1检测空值-is-not-null" class="headerlink" title="2.13.1检测空值(is&#x2F;not null)"></a>2.13.1检测空值(is&#x2F;not null)</h4><ul>
<li><p>isnull方法,检测DataFrame或者Series中缺失值，为空返回true，不为空返回false</p>
</li>
<li><p>notnull方法，检测DataFrame或者Series中缺失值，为空返回false，不为空返回true</p>
</li>
</ul>
<p>  示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">import numpy as np</span><br><span class="line">data=&#123;&#x27;A&#x27;:[1,2,np.nan],&#x27;B&#x27;:[5,np.nan,np.nan],&#x27;C&#x27;:[1,2,3]&#125;</span><br><span class="line">df=pd.DataFrame(data)</span><br><span class="line">print(df.isnull())</span><br><span class="line">df_null=df.isnull()</span><br><span class="line">print(df_null.sum())#统计每一列缺失值个数</span><br></pre></td></tr></table></figure>

<p>输出空值：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">       A      B      C</span><br><span class="line">0  False  False  False</span><br><span class="line">1  False   True  False</span><br><span class="line">2   True   True  False</span><br></pre></td></tr></table></figure>

<p> 统计每一列的数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A    1</span><br><span class="line">B    2</span><br><span class="line">C    0</span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure>

<h4 id="2-13-2-空值填充（fillna）"><a href="#2-13-2-空值填充（fillna）" class="headerlink" title="2.13.2 空值填充（fillna）"></a>2.13.2 空值填充（fillna）</h4><p>参数：制定要填充的值，以及要填充的列名</p>
<p>示例代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data=&#123;&#x27;A&#x27;:[1,2,np.nan],&#x27;B&#x27;:[5,np.nan,np.nan],&#x27;C&#x27;:[1,2,3]&#125;</span><br><span class="line">df=pd.DataFrame(data)</span><br><span class="line">df1=df.fillna(value=0)</span><br><span class="line">print(df1)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    A    B   C</span><br><span class="line">0  1.0  5.0  1</span><br><span class="line">1  2.0  0.0  2</span><br><span class="line">2  0.0  0.0  3</span><br></pre></td></tr></table></figure>

<p>2.13.3删除空值（dropna（）)</p>
<p>示例代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">data=&#123;&#x27;A&#x27;:[1,2,np.nan],&#x27;B&#x27;:[5,np.nan,np.nan],&#x27;C&#x27;:[1,2,3]&#125;</span><br><span class="line">df=pd.DataFrame(data)</span><br><span class="line">df1=df.dropna(axis=1)# 删除有空值的列</span><br><span class="line">df2=df.dropna(axis=0)# 删除有空值的行</span><br><span class="line"></span><br><span class="line">print(df1)</span><br><span class="line">print(df2)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   C</span><br><span class="line">0  1</span><br><span class="line">1  2</span><br><span class="line">2  3</span><br><span class="line">     A    B  C</span><br><span class="line">0  1.0  5.0  1</span><br></pre></td></tr></table></figure>

<h3 id="2-14读取csv文件"><a href="#2-14读取csv文件" class="headerlink" title="2.14读取csv文件"></a>2.14读取csv文件</h3><p>读取文件：data.read_csv(文件地址）</p>
<p>保存地址：data.to”_csv(文件名)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data=&#123;</span><br><span class="line">    &#x27;A&#x27;:[1,2,3,4],</span><br><span class="line">    &#x27;B&#x27;:[5,6,7,8],</span><br><span class="line">&#125;</span><br><span class="line">df=pd.DataFrame(data)</span><br><span class="line">df.to_csv(&#x27;data.csv&#x27;,index=False)</span><br></pre></td></tr></table></figure>

<p>2.15pandas绘图</p>
<h2 id="pandas绘图"><a href="#pandas绘图" class="headerlink" title="pandas绘图"></a>pandas绘图</h2><ul>
<li>由于pandas封装了一个plot方法，所以可以直接使用pandas.DataFrame.plot方法<br>参数：</li>
<li>kind：绘图类型，默认为line</li>
<li>x：x轴数据</li>
<li>y：y轴数据</li>
<li>figsize：设置绘图大小</li>
<li>title：设置标题</li>
<li>xlabel：设置x轴标签</li>
<li>ylabel：设置y轴标签</li>
<li>grid：设置是否显示网格</li>
<li>legend：设置是否显示图例</li>
<li>xticks：设置x轴刻度</li>
<li>yticks：设置y轴刻度</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">data=&#123;</span><br><span class="line">    &#x27;A&#x27;:[1,2,3,4],</span><br><span class="line">    &#x27;B&#x27;:[5,6,7,8],</span><br><span class="line">&#125;</span><br><span class="line">df=pd.DataFrame(data)</span><br><span class="line">df.plot(kind=&#x27;line&#x27;,x=&#x27;A&#x27;,y=&#x27;B&#x27;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>


        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>CXZ</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://cxz-deman.github.io/2025/03/30/%E5%B8%B8%E7%94%A8%E7%9A%84%E4%B8%89%E6%96%B9%E5%BA%93/">https://cxz-deman.github.io/2025/03/30/%E5%B8%B8%E7%94%A8%E7%9A%84%E4%B8%89%E6%96%B9%E5%BA%93/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>Do you believe in <strong>god</strong>?</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/%E9%98%B6%E6%AE%B5%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%90%88%E9%9B%86/"># 阶段学习笔记合集</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2025/04/20/OpenCV%E5%A4%84%E7%90%86%E5%9B%BE%E5%83%8F/">OpenCV处理图像</a>
            
            
            <a class="next" rel="next" href="/2025/03/19/day09%E8%A3%85%E9%A5%B0%E5%99%A8%E5%87%BD%E6%95%B0%E5%92%8C%E4%BE%8B%E9%A2%98%E8%A7%A3%E6%9E%90/">day09装饰器函数和例题解析</a>
            
        </section>


    </article>
</div>

            </div>
            <footer id="footer" class="footer">
    <div class="copyright">
        <span>© CXZ | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>

</html>